{:shortdesc: .shortdesc}
{:new_window: target="_blank"}
{:codeblock: .codeblock}
{:screen: .screen}

#保護應用程式安全
{: #securingapps}

*前次更新：2015 年 12 月 4 日*

您可以上傳 SSL 憑證並限制應用程式存取，來保護您的應用程式。{:shortdesc}

##建立憑證簽署要求
{: #ssl_csr}

您必須先在伺服器上建立憑證簽署要求 (CSR)，才能上傳具有 {{site.data.keyword.Bluemix}} 資格的 SSL 憑證。

CSR 是傳送給憑證管理中心的訊息，用來要求簽署公開金鑰及相關聯的資訊。最常見的 CSR 是 PKCS #10 格式。CSR
包含公開金鑰，以及通用名稱、組織、城市、州省、國家或地區，以及電子郵件。只接受 CSR 金鑰長度 2048 位元的 SSL 憑證要求。

在產生 CSR 時必須輸入下列資訊，CSR 才會有效。

**國家或地區名稱**
  
  兩碼的代碼，代表國家或地區。例如，"US" 代表美國。若為其他國家或地區，請先檢查
[ISO 國碼清單](https://www.iso.org/obp/ui/#search){:new_window}再建立 CSR。
  
**州/省（縣/市）**

  州/省（縣/市）的完整未縮寫名稱。

**地區**

  城鎮或城市的完整名稱。
  
**組織**

  企業或公司在您的地區合法登錄的完整名稱，或是人名。若為公司，請務必包含登錄字尾，例如 Ltd.、Inc. 或 NV。
  
**組織單位**

  貴公司訂購憑證的分支名稱，例如會計或行銷。
  
**通用名稱**

  您要求憑證的完整網域名稱 (FQDN)。
  
建立 CSR 的方法會視您的作業系統而不同。下列範例顯示如何使用
[OpenSSH 指令工具](http://www.openssl.org/){:new_window}建立 CSR：

```
openssl req -out CSR.csr -new -newkey rsa:2048 -nodes -keyout

    privatekey.key```

**附註：**OpenSSL SHA-512 實作取決於 64 位元整數類型的編譯器支援。您可以使用
SHA-1 選項來處理具有 SHA-256 憑證相容性問題的應用程式。

憑證由憑證管理中心發行，並由該憑證管理中心執行數位簽署。在建立 CSR 之後，可在公用憑證管理中心產生 SSL 憑證。 

##上傳 SSL 憑證
{: #ssl_certificate}

您可以套用安全通訊協定以提供應用程式的通訊隱私權，以避免竊聽、竄改及訊息偽造。

對於 {{site.data.keyword.Bluemix_notm}} 中的每個組織，當帳戶擁有者具有生效中的「隨收隨付制」或「訂閱」方案時，您即可進行四次免費憑證上傳。
對於每個組織，當帳戶擁有者具有免費試用帳戶時，您即可進行一次免費憑證上傳。


您必須先建立憑證簽署要求，才能上傳憑證。請參閱[建立憑證簽署要求](#ssl_csr)。

若要適當地提供 SSL 憑證，您必須使用下列 IP 位址，以在建立自訂網域來提供
{{site.data.keyword.Bluemix_notm}} 中配置給貴組織的 URL 路徑時，配置
DNS 或 hosts 檔。

* US-SOUTH：75.126.81.68
* EU-GB：5.10.124.142
* AU-SYD：168.1.35.169

您用於專用環境的 IP 位址不同。請與您的 IBM 業務代表聯絡，以取得專用環境的 IP 位址。

如需建立自訂網域的相關資訊，請參閱[建立及使用自訂網域](updapps.html#domain)。

若要上傳應用程式的憑證，請執行下列動作：

1. 建立路徑，或從應用程式功能表中選取**編輯路徑及應用程式存取**來編輯現有路徑。

2. 在「編輯路徑及應用程式存取」對話框中，按一下**管理網域**。

3. 針對您的自訂網域，按一下**上傳憑證**。

4. 瀏覽以上傳憑證、私密金鑰，以及選擇性地上傳中繼憑證。您也可以選取勾選框，以啟用用戶端憑證的要求。


  **憑證**
    
    一種數位文件，用來將公開金鑰連結到憑證擁有人的身分，使憑證擁有人能夠接受鑑別。憑證由憑證管理中心發行，並由該憑證管理中心執行數位簽署。
    
    {{site.data.keyword.Bluemix_notm}} 支援下列類型的憑證：
    
      * PEM（pem、.crt、.cer 及 .cert）
	  * DER（.der 或 .cer）
      * PKCS #7（p7b、p7r、spc）
	  
  **私密金鑰**
  
    一種用來加密訊息的演算型樣，只有對應的公開金鑰可以解密。
另外，私密金鑰也用來將相對應公開金鑰所加密的訊息解密。
私密金鑰保存在使用者系統上，受到密碼保護。
    
    {{site.data.keyword.Bluemix_notm}} 支援下列類型的私密金鑰：
    
    * PEM（pem、.key）
    * PKCS #8（p8、pk8）
    
    **限制：**無法上傳受通行詞組保護的私密金鑰。
    
  **中繼憑證**
  
    由授信主要憑證管理中心 (CA) 發出的子層憑證，專門用於發出終端實體伺服器憑證。結果此憑證鏈是從授信主要 CA 開始，傳遞經過中繼憑證，然後以發給組織的 SSL 憑證結束。

    
    您應該使用中繼憑證來驗證主要憑證的確實性。中繼憑證通常是從信任的協力廠商處取得。
在將應用程式部署至正式作業之前，測試應用程式時不一定需要中繼憑證。

  
  **啟用用戶端憑證的要求**
  
    如果您啟用此選項，則嘗試存取 SSL 保護網域的使用者會被要求提供用戶端憑證。
例如，在 Web 瀏覽器中，當使用者嘗試存取 SSL 保護的網域時，Web 瀏覽器會提示使用者提供網域的用戶端憑證。

  
  **附註：**{{site.data.keyword.Bluemix_notm}} 網域管理中的自訂憑證特性取決於「傳輸層安全 (TLS)」通訊協定的「伺服器名稱指示 (SNI)」延伸。因此，存取自訂憑證所保護之 {{site.data.keyword.Bluemix_notm}} 應用程式的用戶端程式碼必須支援 TLS 實作中的 SNI 延伸。如需相關資訊，請參閱 [RFC 4346 的第 7.4.2 節](http://tools.ietf.org/html/rfc4346#section-7.4.2){:new_window}。

若要刪除憑證或以新憑證取代現有憑證，請移至**管理組織** > **網域** > **檢視憑證**，以管理您的憑證。
