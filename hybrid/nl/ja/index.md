---


copyright:
  years: 2015, 2017
lastupdated: "2017-04-18"

---

{:shortdesc: .shortdesc}
{:codeblock: .codeblock}
{:screen: .screen}
{:new_window: target="_blank"}
{:pre: .pre}
{:table: .aria-labeledby="caption"}

# {{site.data.keyword.Bluemix_notm}} Local および {{site.data.keyword.Bluemix_notm}} Dedicated の管理
{: #mng}

{{site.data.keyword.Bluemix}} Local または {{site.data.keyword.Bluemix_notm}} Dedicated の管理者権限がある場合は、**「管理」**ページに移動して、リソースの管理、割り当て量の使用状況のモニター、ユーザー許可の管理、アップグレード通知のスケジュール設定、セキュリティー・レポートおよびログの表示などを行います。組織の管理は、スペースを作成し、[ユーザーの役割と権限](/docs/admin/index.html#oc_useradmin)を設定することによって行うことができます。『[組織の管理](/docs/admin/orgs_spaces.html)』を参照してください。
{:shortdesc}

{: #ld_table1}

| 選択可能な操作 | 詳細 |    
|----------------|---------|
|システム使用状況のモニター | **「管理」&gt;「使用量」**をクリックします。システム情報を表示し、CPU 使用量をモニターし、使用量の計画を立てて、ビジネスにとって最良の決定を行ってください。『[使用量情報の表示](/docs/admin/index.html#oc_resource)』を参照してください。|
|カタログの管理 | どのサービスをユーザーおよび組織が表示できるようにするかを管理するには、**「管理」&gt;「カタログ管理」**をクリックします。『[カタログの管理](/docs/admin/index.html#oc_catalog)』を参照してください。|
|組織の管理 | 組織を作成し、組織の割り当て量をモニターし、ニーズに沿った決定を素早く行うには、**「管理」&gt;「組織管理」**をクリックします。『[組織の管理](/docs/admin/index.html#oc_organizations)』を参照してください。|
|スペースの作成とユーザーの役割の割り当て | 組織内のスペースを作成するには、**「アカウント」** &gt; **「組織の管理」**をクリックします。ユーザーを追加し、組織およびスペースの役割をユーザーに割り当てます。『[組織の管理](/docs/admin/orgs_spaces.html)』を参照してください。 |
|管理ユーザーの権限の管理 | ユーザーの追加、ユーザーの削除、およびユーザーの許可の調整を行うには、**「管理」&gt;「ユーザー管理」**をクリックします。『[ユーザーおよび許可の管理](/docs/admin/index.html#oc_useradmin)』を参照してください。 |
|レポートおよびログのレビュー | ユーザーのインスタンスのセキュリティー・レポートおよび監査ログを表示するには、**「管理」&gt;「レポートおよびログ」**をクリックします。『[レポートの表示](/docs/admin/index.html#oc_report)』を参照してください。 |
|システム情報の表示 | 保留中の保守更新、インスタンスの名前とバージョン、地域、API URL、CLI URL、LDAP 構成の詳細、グループとユーザーのマッピング、統計、および共有ドメインなどのシステム情報を表示するには、**「管理」&gt;「システム情報」**をクリックします。『[システム情報の表示](/docs/admin/index.html#oc_system)』を参照してください。 |
|通知の拡張および通知サブスクリプションのセットアップ | **「管理」&gt;「システム情報」&gt;「*数値* 件保留中 (*Number* pending)」**をクリックします。Web フックを使用して、選択した Web サービスと統合し、更新またはインシデントに関するイベント通知サブスクリプションをセットアップできます。『[通知および通知サブスクリプション](/docs/admin/index.html#oc_eventsubscription)』を参照してください。 |
{: caption="表 1. Bluemix Local または Dedicated のインスタンスを管理するための管理用タスク" caption-side="top"}

<!-- staging only for WoW start -->

**ヒント**: {{site.data.keyword.Bluemix_notm}} コンソール内の「インフラストラクチャー」ダッシュボードは、{{site.data.keyword.Bluemix_notm}} Public 環境内でリンクされているアカウントでのみ使用可能です。


<!-- staging only for WoW end -->


## 通知および通知サブスクリプション
{: #oc_eventsubscription}

「状況」ページを確認することによって、常にご使用の環境の状況を把握できます。インシデントおよびスケジュールされた停止を伴う保守更新イベントが発生すると、それらが「状況」ページで報告されます。また、{{site.data.keyword.Bluemix_notm}} は、スケジュールされた保守更新や保留中の保守更新などのイベントに関する通知を「管理」ページの「通知」エリアに送信します。

### 通知

お客様はローカル環境または専用環境についての通知を表示し、環境の状況をモニターすることができます。次の表で、各種のタイプの通知および各通知タイプが表示される場所に関する情報を確認してください。

{: #ld_table2}

| **イベント・タイプ** | **通知方法** |       
|-----------------|-------------------|
| 保守の更新情報 | 保留中および完了した通知の全リストおよび履歴を確認するには、**「管理」&gt;「システム情報」** &gt;「*Number* 件の**保留中 **」をクリックします。スケジュールされた停止を伴う保守更新イベントに関するアラートも「状況」ページで受け取ります。**「サポート」** &gt; **「状況」**をクリックします。E メールを任意の受信者に送信するサブスクリプションをセットアップすることで、通知機能を拡張できます。あるいは、Web フックを使用して、「管理」ページの通知を任意の Web サービスと統合するサブスクリプションをセットアップできます。|
| 重大なインシデント | 重大なインシデントに関するアラートは「状況」ページで受け取ります。**「サポート」** &gt; **「状況」**をクリックします。E メールを任意の受信者に送信する通知サブスクリプションをセットアップすることで、通知機能を拡張できます。あるいは、Web フックを使用して、「管理」ページの通知を任意の Web サービスと統合するサブスクリプションをセットアップできます。  |  
| しきい値イベント | ご使用の環境で組織割り当て量、物理ディスク、物理メモリー、予約済みディスク、または予約済みメモリーのしきい値に達したときに、選択した受信者に E メールを送信する通知サブスクリプションをセットアップできます。あるいは、Web フックを使用して、通知を任意の Web サービスと統合するサブスクリプションをセットアップできます。  |  
| {{site.data.keyword.Bluemix_notm}} 状況 | いつでも、「状況」ページでプラットフォーム、サービス、および {{site.data.keyword.Bluemix_notm}} インスタンスの最新状況を表示できます。**「サポート」** &gt; **「状況」**をクリックします。  |
{: caption="表 2. イベント・タイプと通知方法" caption-side="top"}

### 通知サブスクリプションのセットアップ
{: #seteventsub}

通知サブスクリプションを使用して、「管理」ページおよび「状況」ページに送信される通知の機能を拡張できます。通知サブスクリプションを使用してカスタム E メールをセットアップするか、Web フックを使用して任意のツールと統合します。
 * E メールのオプションを選択した場合、通知は、指定する E メール・アドレスに送信されます。インシデント、保守更新、またはしきい値の通知を選択できます。初期 E メール通知が送信されます。その後、イベントに変更があると、変更が行われるたびに、変更内容を含んでいる新たな通知が送信されます。  
 * Web フック・オプションを選択した場合、通知は、電話番号 (SMS メッセージによって) などの任意の宛先に直接ルーティングされます。通知のタイプ (具体的には、保守更新、重大なインシデント・アラート、またはしきい値) をカスタマイズできます。新規通知を受信するのか、サブスクリプションに対する変更に関する通知を受信するのか、および各通知の本体に含める情報をカスタマイズできます。

**注**: 通知サブスクリプションをセットアップできるのは、Superuser 許可 (`ops.admin`) を備えているユーザーのみです。

**「通知サブスクリプション」**ページから E メール・サブスクリプションまたは Web フック・サブスクリプションを作成するには、以下のステップを実行します。

1. **「通知サブスクリプション」**ページにナビゲートします。**「システム情報
」&gt;「環境」&gt;「サブスクリプション」**に移動します。
2. **「サブスクリプションの追加」**をクリックします。
3. 通知サブスクリプション・フォームに入力します。

  * 保守更新またはインシデントに関する E メール通知サブスクリプションを作成する場合は、[表 3](index.html#emailnotmaintinc) の情報を参照してください。
  * しきい値に関する E メール通知サブスクリプションを作成する場合は、[表 4](index.html#emailnottrhesh) の情報を参照してください。
  * 保守更新またはインシデントに関する Web フック通知サブスクリプションを作成する場合は、[表 5](index.html#webhooknotsub) の情報を参照してください。
  * しきい値に関する Web フック通知サブスクリプションを作成する場合は、[表 6](index.html#webhooknotthresh) の情報を参照してください。

4. フォームに入力した後に、以下のオプションから選択できます。

  * **「保存」**をクリックして、サブスクリプションを通知サブスクリプション・リストに保存する。
  * **「保存してテスト」**をクリックして、通知を保存してテストする。
  * **「保存して閉じる」**をクリックして、サブスクリプションを通知サブスクリプション・リストに保存し、前のページに戻る。

{: #emailnotmaintinc}

| **フィールド** | **説明** |
|-----------------|-------------------|
| 有効 | E メール通知を有効にする場合は、このオプションを選択します。E メール通知を無効にする場合は、選択をクリアします。デフォルトでは、サブスクリプションは有効になっています。 |
| タイプ  | **「E メール」**を選択します。 |
| イベント | **「保守」**と**「インシデント」**のどちらのイベントについての通知をサブスクライブするのかを選択します。 |
| 通知の結合 | すべての地域のインシデント通知を 1 つの通知に結合するオプションを選択します。このオプションは、インシデントだけに使用可能です。 |
| サブジェクト | E メールの件名を入力します。これは必須フィールドです。  |
| 本文 | E メールで送信するメッセージ本文のテキストを入力します。IBM ペイロード値を使用して、E メール通知に関連情報を取り込むことができます。使用できる値を識別するには、表『[保守およびインシデントのペイロード・セクションの値 ](index.html#payload)』を参照してください。基本 HTML タグを使用して、E メールを構造化します。これは必須フィールドです。 |
| 宛先 | メール通知の受信者の E メール・アドレス (複数の場合はコンマ区切りリストを使用する) を入力します。E メールを他のユーザーに複製送信するには、「cc」オプションまたは「bcc」オプションを展開します。これは必須フィールドです。 |
| 説明 | 作成するサブスクリプションの固有の説明を追加します。 |
{: caption="表 3. しきい値に関する E メール通知サブスクリプション用のフィールド" caption-side="top"}


{: #emailnottrhesh}

| **フィールド** | **説明** |
|-----------------|-------------------|
| 有効 | E メール通知を有効にする場合は、このオプションを選択します。E メール通知を無効にする場合は、選択をクリアします。デフォルトでは、サブスクリプションは有効になっています。 |
| タイプ  | **「E メール」**を選択します。 |
| イベント | **「しきい値」**を選択します。 |
| しきい値 | 通知するしきい値のタイプ (「組織割り当て量 (Organization Quota)」、「物理ディスク (Physical Disk)」、「物理メモリー (Physical Memory)」、「予約済みディスク (Reserved Disk)」、または「予約済みメモリー (Reserved Memory)」) を選択します。 |
| しきい値方向 | 設定した「(%) を上/下回ったら通知 (Notify When Crossing)」の値を超えるときのデータの移動方向 (「昇 (Ascending)」または「降 (Descending)」) を選択します。例えば、「(%) を上/下回ったら通知 (Notify When Crossing)」の値が 50% で、方向が降の場合、使用率 (%) が 50% 以上から 50% 未満に低下した場合にのみ通知されます。方向を昇に設定した場合、使用率 (%) が 50% 未満から 50% 超に増加した場合に通知されます。|
| (%) を上回ったら通知 (Notify When Crossing Above (%)) | 通知を受けるしきい値 (パーセンテージ) を入力します。「しきい値方向」フィールドで「昇 (Ascending)」プロパティーを選択した場合、しきい値がこのパーセンテージを上回ったときに E メール通知が送信されます。 |
| (%) を下回ったら通知 (Notify When Crossing Below (%)) | 通知を受けるしきい値 (パーセンテージ) を入力します。「しきい値方向」フィールドで「降 (Descending)」プロパティーを選択した場合、しきい値がこのパーセンテージを下回ったときに E メール通知が送信されます。 |
| 説明 | 作成するサブスクリプションの固有の説明を追加します。 |
| サブジェクト | E メールの件名を入力します。これは必須フィールドです。  |
| メッセージ本文 | E メールで送信するメッセージ本文のテキストを入力します。IBM ペイロード値を使用して、E メール通知に関連情報を取り込むことができます。使用できる値を識別するには、表『[しきい値のペイロード・セクションの値](index.html#threshpayload)』を参照してください。基本 HTML タグを使用して、E メールを構造化します。これは必須フィールドです。 |
| 宛先 | メール通知の受信者の E メール・アドレス (複数の場合はコンマ区切りリストを使用する) を入力します。E メールを他のユーザーに複製送信するには、「cc」オプションまたは「bcc」オプションを展開します。これは必須フィールドです。 |
{: caption="表 4. 保守更新またはインシデントに関する E メール通知サブスクリプション用のフィールド" caption-side="top"}

しきい値データは 6 時間おきに収集されます。  通知は、値が設定したしきい値をまたがったときに一度だけ送信されます。昇を選択した場合、値がしきい値を下回り、その後またしきい値を上回らない限り、新しい通知は送信されません。同様に、降を選択した場合、通知を受けるのは、値が設定したしきい値を上回り、その後またしきい値を下回った場合のみです。 

しきい値が満たされて通知が送信されるまで 6 時間待機したくない場合は、フォームのフィールドに入力した後に、**「保存してテスト」**をクリックすることで、サンプル・データを使用したテスト通知を受け取ることができます。  

組織割り当て量のしきい値通知には、その通知に対応する 6 時間に、指定されたしきい値 (パーセンテージ) をまたがった組織のみが含まれます。それより前のいずれかの 6 時間にしきい値をまたがった組織は、しきい値を上回ったまま、または下回ったままであっても含まれません。組織割り当て量の通知を送信するかどうかを決定する際、組織の割り当て量を構成する 3 つのリソース (予約済みメモリー、サービス、および経路) は独立して考慮されます。例えば、組織割り当て量のしきい値が値 50 % で構成されている場合、組織が使用した予約済みメモリーの量が組織割り当て量の 50 % を超えると通知が送信されます。その後、ある時点で、同じ組織が使用したサービスの数が組織割り当て量の 50 % を超えると、使用済みメモリー量は変わらなくても、同じ組織割り当て量のしきい値サブスクリプションでまた通知が送信されることになります。

{: #webhooknotsub}

| **フィールド** | **説明** |
|-----------------|-------------------|
| 有効 | 通知を有効にする場合は、このオプションを選択します。通知を無効にする場合は、選択をクリアします。デフォルトでは、サブスクリプションは有効になっています。 |
| タイプ  | **「Web フック」**を選択します。 |
| イベント | **「保守」**と**「インシデント」**のどちらのイベントについての通知をサブスクライブするのかを選択します。 |
| 許可 | 許可を有効にするかどうかを選択します。オプションは、**「基本 (Basic)」**または**「なし (None)」**です。 |
| ユーザ名 | **「基本 (Basic)」**許可を選択した場合、Web サービスのユーザー名を入力します。個人の資格情報を使用したくない場合は、{{site.data.keyword.Bluemix_notm}} 専用に使用する機能 ID をセットアップできます。 |
| パスワード | **「基本 (Basic)」**許可を選択した場合、Web サービスのパスワードを入力します。 |
| 説明 | 作成するサブスクリプションの固有の説明を追加します。 |
| 新しいイベント | 新規の保守またはインシデントのイベントに関する通知を有効にする場合、このオプションを選択します。通知を無効にする場合は、選択をクリアします。 |
|  方法  | **「GET」**、**「POST」**、または**「PUT」**を選択します。 |
| URL | Web サービスに接続するための URL を入力します。 |
| 応答プロパティー | このオプション・フィールドは、POST 要求または PUT 要求の送信時に Web サービスにより作成されるリソースを識別するプロパティー名です。新規イベントの応答プロパティーを指定し、イベントに対する変更のサブスクリプションを作成することを選択した場合、「イベントに対する変更」サブスクリプションにそれを指定する必要もあります。使用している Web サービスに応じて、URL の一部として、またはペイロード値として指定できます。  |
| ペイロード | POST または PUT 方式を選択した場合は、使用する Web サービスに固有のプロパティーを、IBM 通知に使用されるペイロード値とペアにして入力します。使用できる値を識別するには、表『[保守およびインシデントのペイロード・セクションの値 ](index.html#payload)』を参照してください。このセクションに情報を入力しないと、追加情報が何もない通知を受け取ります。 |
| イベントに対する変更 | サブスクリプションを作成した保守またはインシデントのイベントに対する変更に関する通知サブスクリプションを作成する場合、このオプションを選択します。通知を無効にする場合は、選択をクリアします。 |
| 新しいイベントからの値とペイロードを使用 (Use values and payload from New Event) | 「新しいイベント」セクションの「方法」、「URL」、および「ペイロード」フィールドの内容を使用します。なお、このオプションにチェック・マークが付けられている場合、「イベントに対する変更」セクションの該当するフィールドはこれ以上編集できなくなります。 |
|  方法  | **「GET」**、**「POST」**、または**「PUT」**を選択します。 |
| URL | Web サービスに接続するための URL を入力します。 |
| ペイロード | POST または PUT 方式を選択した場合は、使用する Web サービスに固有のプロパティーを、IBM 通知に使用されるペイロード値とペアにして入力します。使用できる値を識別するには、表『[保守およびインシデントのペイロード・セクションの値 ](index.html#payload)』を参照してください。このセクションに情報を入力しないと、追加情報が何もない通知を受け取ります。 |
| 通知の結合 | すべての地域のインシデント通知を 1 つの通知に結合するオプションを選択します。このオプションは、インシデントだけに使用可能です。 |
{: caption="表 5. 保守またはインシデントに関する Web フック通知サブスクリプション用のフォーム・フィールド" caption-side="top"}


{: #webhooknotthresh}

| **フィールド** | **説明** |
|-----------------|-------------------|
| 有効 | 通知を有効にする場合は、このオプションを選択します。通知を無効にする場合は、選択をクリアします。デフォルトでは、サブスクリプションは有効になっています。 |
| タイプ  | **「Web フック」**を選択します。 |
| イベント | **「しきい値」**を選択します。 |
| しきい値 | 通知するしきい値のタイプ (「組織割り当て量 (Organization Quota)」、「物理ディスク (Physical Disk)」、「物理メモリー (Physical Memory)」、「予約済みディスク (Reserved Disk)」、または「予約済みメモリー (Reserved Memory)」) を選択します。|
| しきい値方向 | しきい値データを昇方向で見るのか降方向で見るのかを選択します。
| (%) を下回ったら通知 (Notify When Crossing Below (%)) | **「降 (Descending)」**の**「しきい値方向」**を選択した場合、通知を受けるしきい値 (%) を入力します。しきい値がこのパーセンテージを下回ったときに、Web フック通知が送信されます。 |
| (%) を上回ったら通知 (Notify When Crossing Above (%)) | **「昇 (Ascending)」**の**「しきい値方向」**を選択した場合、通知を受けるしきい値 (%) を入力します。しきい値がこのパーセンテージを上回ったときに、Web フック通知が送信されます。 |
| 説明 | 作成するサブスクリプションの固有の説明を追加します。 |
| 許可 | 許可を有効にするかどうかを選択します。オプションは、**「基本 (Basic)」**または**「なし (None)」**です。 |
| ユーザ名 | 基本許可を選択した場合、Web サービスのユーザー名を入力します。個人の資格情報を使用したくない場合は、{{site.data.keyword.Bluemix_notm}} 専用に使用する機能 ID をセットアップできます。 |
| パスワード | 基本許可を選択した場合、Web サービスのパスワードを入力します。 |
|  方法  | **「GET」**、**「POST」**、または**「PUT」**を選択します。 |
| URL | Web サービスに接続するための URL を入力します。 |
{: caption="表 6. しきい値に関する Web フック通知サブスクリプション用のフォーム・フィールド" caption-side="top"}

しきい値データは 6 時間おきに収集されます。  通知は、値が設定したしきい値をまたがったときに一度だけ送信されます。昇を選択した場合、値がしきい値を下回り、その後またしきい値を上回らない限り、新しい通知は送信されません。同様に、降を選択した場合、再び通知を受けるのは、値が設定したしきい値を上回り、その後またしきい値を下回った場合のみです。 

しきい値が満たされたときに通知が送信されるまで 6 時間待機しない場合、フォームのフィールドに入力した後に、**「保存してテスト」**をクリックすることで、通知を保存し、サンプル・データを使用して通知をテストできます。

組織割り当て量のしきい値通知には、その通知に対応する 6 時間に、指定されたしきい値 (パーセンテージ) をまたがった組織のみが含まれます。それより前のいずれかの 6 時間にしきい値をまたがった組織は、しきい値を上回ったまま、または下回ったままであっても含まれません。組織割り当て量の通知を送信するかどうかを決定する際、組織の割り当て量を構成する 3 つのリソースである予約済みメモリー、サービス、および経路は独立して考慮されます。例えば、組織割り当て量のしきい値が値 50 % で構成されている場合、組織が使用した予約済みメモリーの量が組織割り当て量の 50 % を超えると通知が送信されます。その後、ある時点で、同じ組織が使用したサービスの数が組織割り当て量の 50 % を超えると、使用済みメモリー量は変わらなくても、同じ組織割り当て量のしきい値サブスクリプションでまた通知が送信されることになります。

{: #payload}

| **IBM 値** | **説明** | **イベント・タイプ** |
|----------------|----------------|------------------------|
| {{content.category}} | 影響を受けるサービス | インシデント |
| {{content.disruption}} | 影響を受けるコンポーネント | 保守更新 |
| {{content.message}} | メッセージの説明 |   保守更新およびインシデント |
| {{content.scheduleWindow.start}} | 更新のスケジュールされている開始日 | 保守更新 |
| {{content.scheduleWindow.end}} | 更新のスケジュールされている終了時刻 | 保守更新 |
| {{content.severity}} | 重大度レーティング | インシデント |
| {{content.subCategoryName}} | 影響を受けるコンポーネント | インシデント |
| {{content.title}} | メッセージ・タイトル | 保守更新およびインシデント |
| {{region}} | 影響を受ける地域 | 保守更新およびインシデント |
| {{status}} | 更新の状況 | 保守更新 |
| {{type}} | 更新またはインシデント | 保守更新およびインシデント |
{: caption="表 7. 保守およびインシデントのペイロード・セクションの値" caption-side="top"}


{: #threshpayload}

| **IBM 値** | **説明** | **イベント・タイプ** |
|----------------|----------------|------------------------|
| {{content.org_quota}} | 組織割り当て量しきい値 | しきい値 |
| {{content.physical_disk}} | 物理ディスクしきい値 | しきい値 |
| {{content.physical_memory}} | 物理メモリーメモリーしきい値 | しきい値 |  
| {{content.reserved_disk}} | 予約済みディスクしきい値 | しきい値 |
| {{content.reserved_memory}} | 予約済みメモリーしきい値 | しきい値 |
{: caption="表 8. しきい値のペイロード・セクションの値" caption-side="top"}

通知サブスクリプションを保存すると、セットアップした方式を使用して通知を受け取ります。通知は、従来どおり次の場所に表示されます。  
 * インシデントについては、「状況」ページに
 * スケジュールされた停止を伴う保守更新イベントについては、「状況」ページに
 * 保守更新については、「管理」ページの「通知」エリアに

保存された任意の通知サブスクリプションを選択したり、最新のアクティビティーを表示したり、必要に応じて編集したりすることができます。任意の最新のアクティビティー項目をクリックして展開すると、その履歴詳細が表示されます。

## 保守の更新情報
{: #oc_schedulemaintenance}

Superuser 許可 (`ops.admin`) を持っている場合、**「管理」&gt;「システム情報」&gt;「*数値* 件保留中 (*Number* pending)」**とクリックして**「システム更新」**ページにアクセスして、スケジュールされた保守更新および保留中の保守更新を表示できます。環境内のすべてのユーザーが、**「サポート」** &gt; **「状況」**をクリックすることによって、スケジュールされた停止を伴う保守更新イベントを表示できます。

**注**: 開始するには、『[事前承認済み保守期間の設定](index.html#preapprovedmaintenance)』の以下のセクションを参照してください。IBM がご使用の環境の保守をスケジュールするには、この期間が設定されている必要があります。

<dl>
<dt>停止を伴わない更新</dt>
<dd>停止を伴わない更新は、ご使用の環境、実行中のアプリケーション、およびユーザーによるアプリケーションへのアクセスに影響しません。この更新タイプは、ケースバイケースの承認を必要とせず、「システム更新」ページから設定した、事前承認済みの選択可能な保守期間中に適用されます。</dd>
<dt>停止を伴う更新</dt>
<dd>停止を伴う更新は、ご使用の環境、実行中のアプリケーション、またはユーザーによるアプリケーションへのアクセスに影響する可能性があります。割り当てられた 21 日の保守期間内に、このタイプの各保守更新をスケジュールし、承認する必要があります。推奨されたデプロイメント日時または任意の事前承認済み期間のオプションを選択できます。あるいは、カレンダーを開いて、特定の 3 つの日時を選択できます。この場合、IBM は、更新をスケジュールする際にその 3 つから日時を選択します。</dd>
</dl>


### 事前承認済み保守期間の設定
{: #preapprovedmaintenance}

停止を伴わない保守更新は、事前承認された期間に実行されるようにスケジュールされます。デフォルトでは、ご使用のシステムに対して、2 つの週間の選択可能な更新期間が作成されます。これらの期間は通常、毎週土曜日と日曜日の夜に繰り返すように設定されます。以下のいずれかの方法で、デフォルト設定を変更できます。
 * 別の曜日または別の開始時刻、あるいはその両方を選択して、デフォルトの更新期間を編集する
 * 更新期間を作成してから、デフォルトの更新期間を削除する

変更を保存するには、各週の必要な最小時間を引き続き満たしている必要があります。

各週に 2 日間以上、1 週に 12 時間以上の選択可能な期間を設定する必要があります。例えば、2 日間にそれぞれ 6 時間を設定することや (6 時間 × 2 日)、3 日間にそれぞれ 4 時間を設定することができます (4 時間 × 3 日)。その期間で更新の適用に十分な時間が確実に得られるようにするために、各期間は最短でも 4 時間の長さでなければなりません。  

**注**: 保守更新をスケジュールおよび承認できるのは、Superuser 許可 (`ops.admin`) を備えているユーザーのみです。

1. **「管理」&gt;「システム情報」&gt;「*数値* 件保留中 (*Number* pending)」&gt;「更新内容の管理
」**に移動します。
2. **「適用可能な更新内容の管理ウィンドウ」**セクションを展開します。
3. **「新規追加」**![新規追加](images/add-new.png) をクリックします。
4. 期間の頻度、長さ、および開始時刻を選択して、最初の選択可能な期間を設定します。
5. オプション: デプロイメントをスケジュールするための優先時間として繰り返しの選択可能な期間を設定する場合は、**「優先としてマーク」**を選択します。可能な場合には、優先期間が優先されます。
6. **「送信」**をクリックします。
7. 1 週間の期間の最小要件を満たすまで、このプロセスを繰り返します。

### 選択不可の保守期間の設定
{: #blockpreapprovedmaintenance}

環境で停止を伴わない保守更新を行うことができない特定の選択不可の更新期間を設定することを選択できます。例えば、トラフィックが多い週末や休日を選択し、アプリケーションがユーザーに確実に使用可能になるように、その期間に保守を適用しないようにすることができます。

各週に 2 日間以上、1 週に 12 時間以上の選択可能な期間を設定する必要があります。選択不可の更新期間を作成しようとしていて、その新規期間によってシステムが週間の必要な最小を下回るようになる場合、変更を保存できないことがあります。この場合、新しい選択不可の更新期間を保存する前に、まず、既存の選択不可の更新期間を削除するか、選択可能な更新期間を追加する必要があります。詳しくは、『[事前承認済み保守期間の設定](index.html#preapprovedmaintenance)』を参照してください。

1. **「管理」&gt;「システム情報」&gt;「*数値* 件保留中 (*Number* pending)」&gt;「更新内容の管理
」**に移動します。
2. **「適用不可能な更新内容の管理ウィンドウ」**セクションを展開します。
3. **「新規追加」**![新規追加](images/add-new.png) をクリックします。
4. 期間の頻度、長さ、および開始時刻を選択して、選択不可の期間を設定します。
5. **「送信」**をクリックします。

### 更新のスケジュールおよび承認
{: #scheduleandapprove}

事前承認済み保守期間の設定が終わると、停止を伴わない更新は、その期間中に自動的にスケジュールされます。このタイプの更新に対する明示的な承認は不要です。ただし、更新対象、更新にかかる時間、更新のスケジュール日時など、各保守更新の詳細を表示できます。

停止を伴わない更新の詳細を表示するには、以下のステップを実行します。

1. **「管理」&gt;「システム情報」&gt;「*数値* 件保留中 (*Number* pending)」**に移動します。
2. **「お客様によるスケジュールが必要 (Customer Scheduling Required)」**が**「いいえ」**に設定されている行を特定します。
3. その更新の行を選択し、詳細を表示します。

停止を伴う更新は、ご使用の環境、実行中のアプリケーション、またはユーザーによるアプリケーションへのアクセスに影響する可能性があります。割り当てられた 21 日の保守期間内に、このタイプの各保守更新をスケジュールし、承認する必要があります。推奨されたデプロイメント日時または任意の事前承認済み期間のオプションを選択できます。あるいは、カレンダーを開いて、特定の 3 つの日時を選択できます。この場合、IBM は、更新をスケジュールする際にその 3 つから日時を選択します。

承認する必要がある、停止を伴う更新の場合、以下のステップを実行します。

1. **「管理」&gt;「システム情報」&gt;「*数値* 件保留中 (*Number* pending)」**に移動します。
2. **「お客様によるスケジュールが必要 (Customer Scheduling Required)」**が**「はい」**に設定されている行を特定します。
3. その更新の行を選択し、更新の説明、更新の推奨日時、影響を受けるコンポーネント、更新の所要時間など、更新の詳細を確認します。
4. **「スケジュール設定と承認」**を選択します。
5. **「候補の日付」**、**「代替の日付」**、または**「事前に承認されたウィンドウ」**のオプションから選択します。**「代替の日付」**を選択した場合、カレンダーを開き、3 つのオプションを選択できます。その中から IBM が選択します。
6. オプション: カレンダー内の選択した代替の日付のリストから、 デプロイメントの優先日付として設定したい日付を選択します。選択された各日付は、デプロイメントをスケジュールしているデプロイヤーの優先日付として扱われます。IBM は、優先される更新ウィンドウ中に保守をスケジュールするよう努めます。
7. 終了したら、**「送信」**を選択します。

選択内容に基づいて、受け入れた候補日、事前承認済み期間のいずれか、または選択した特定の日時のいずれかに、更新のデプロイメントがスケジュールされます。IBM が更新のデプロイメントをスケジュールしたら、**「システム更新」**ページに、更新の詳細が反映されたスケジュール日が表示されます。既に予定されているデプロイメントは、スケジュール開始日時までに 1 日 (24 時間) ある場合に限り、スケジュール変更可能です。デプロイメントをスケジュール変更したら、再びそれをスケジュール変更することはできません。


## システム情報の表示
{: #oc_system}

システム情報を表示するには、**「管理」&gt;「システム情報 (SYSTEM INFORMATION)」** をクリックします。

保留中のシステム更新、全般的なシステム情報、API および CLI 情報、LDAP 構成の詳細などの各種セクションを表示できます。

### 保留中のシステム更新

「更新」セクションでは、お客様の側でのアクションが必要な保留中の更新の通知数を確認できます。表示されるものには、以下の 2 つの種類があります。

<dl>
<dt>停止を伴わない更新</dt>
<dd>停止を伴わない更新は、ご使用の環境、実行中のアプリケーション、およびユーザーによるアプリケーションへのアクセスに影響しません。この更新タイプでは、ケースバイケースの承認は不要です。このタイプの更新は、「システム更新」ページから設定した、事前承認済みの選択可能な保守期間中に適用されます。</dd>
<dt>停止を伴う更新</dt>
<dd>停止を伴う更新は、ご使用の環境、実行中のアプリケーション、またはユーザーによるアプリケーションへのアクセスに影響する可能性があります。割り当てられた 21 日の保守期間内に、このタイプの各保守更新をスケジュールして承認し、重要な営業時間中に更新が適用されないようにすることができます。事前承認済み更新期間に基づいた、候補のデプロイメント日時を選択できます。あるいは、IBM が更新の適用時に選択するための 2 つの追加日時を選択できます。</dd>
</dl>

事前承認済み保守期間の設定と、保守に選択不可の特定の日付の選択について詳しくは、『[保守の更新情報](index.html#oc_schedulemaintenance)』を参照してください。

### 一般的なシステム情報

「一般情報 (General Information)」セクションでは、以下の情報を表示できます。

- {{site.data.keyword.Bluemix_notm}} ビルドに関する基本情報。
- バージョン、URL、地域、および CLI 資料へのリンクが含まれた API 情報。
- システムおよびサービスに関する共有ドメイン情報。
- アプリケーション、ユーザー、および組織の総数に関する統計。

### LDAP 構成の詳細

「LDAP 構成の詳細 (LDAP Configuration Details)」セクションでは、LDAP サーバーを選択し、ユーザーとグループのマッピング情報を表示できます。{{site.data.keyword.IBM}} WebID を使用している場合は、このセクションに示されます。

## 使用量およびレポートの表示
{: #oc_resource}

ローカル・インスタンスまたは専用インスタンスおよび {{site.data.keyword.Bluemix_notm}} アカウントに関するさまざまなタイプの使用量情報を表示できます。ご使用の {{site.data.keyword.Bluemix_notm}} インスタンスのセキュリティー・レポートおよびログをダウンロードして表示することもできます。

- リソース情報 (ディスク・スペース、CPU 使用量、ネットワーク使用量、および平均応答時間を含む)。『[リソース使用量](index.html#resourceusage)』を参照してください。
- 組織ごとのアカウント使用 (ランタイム・アプリ数と使用量、ランタイム GB 時間の合計数、およびサービス・インスタンス数と使用量を含む)。『[アカウント使用量](index.html#accountusage)』を参照してください。
- 組織のメモリー割り当て量の使用状況、合計使用済みメモリー割り当て量に基づいて割り振られたアプリ・メモリー、および特定の組織のアプリごとの GB 時間使用量の表示。また、「組織管理」ページの**「割り当て量のモニター」**セクションに、すべての組織の割り当て量の使用状況を表示することもできます。『[組織管理](../admin/index.html#orgusage)』を参照してください。


### リソース使用量
{: #resourceusage}

リソース使用量情報を表示するには、**「管理」&gt;「リソース使用量」**をクリックします。

**「リソース使用量」**セクションには、以下の情報が表示されます。

- リソース使用量情報。例えば、予約しておくことのできるメモリーおよびディスク・スペースの量と物理的に使用可能な量、実際に予約済みのメモリーおよびディスク・スペースの量と物理的に使用されている量などです。すべての Droplet Execution Agent (DEA) での平均 CPU 使用量に関する情報も表示できます。メモリー、ディスク、および CPU 使用量について詳しくは、『[メモリー、ディスク、および CPU の詳細](index.html#resourceusagedetails)』を参照してください。
- 入力帯域幅および出力帯域幅のネットワーク使用情報 (過去 6 時間または 1 日)。表示されるデータは、パブリック・ネットワークとプライベート・ネットワークの両方の入出力トラフィックの合計に基づいています。
- {{site.data.keyword.Bluemix_notm}} の平均応答時間 (過去 10 分、1 時間、および 1 日)。
- {{site.data.keyword.Bluemix_notm}} の 1 秒あたりの平均トランザクション数 (過去 10 分、1 時間、および 1 日)。


#### システム・メモリー、ディスク、および CPU の詳細
{: #resourceusagedetails}

**「リソース使用量 (Resource Usage)」**セクションで、メモリーおよびディスクの**予約済み**の量および**物理的**な量を表示できます。    
	<dl>
	<dt><strong>物理的</strong></dt>
	<dd>環境のために購入されたメモリーまたはディスク・スペースの量。</dd>
	<dt><strong>予約済み</strong></dt>
	<dd>環境にデプロイされて実行しているすべてのアプリケーションでの予約に使用可能なメモリーまたはディスク・スペースの合計量。予約したメモリーの全量をアプリケーションが使用することはめったにないため、物理的な値が予約済みの値よりも小さいのが一般的です。</dd>
	</dl>

グラフィカル表現に加えて、環境で使用されているメモリーおよびディスク・スペースのパーセンテージを表示することができます。また、予約済みの量と物理的な量の両方について、使用可能な量と比べた実際の使用量を表示することもできます (GB 単位)。


DEA 別のメモリー、ディスク、CPU の使用量を表示するには、**「明細」**をクリックします。
  

経時的なメモリーまたディスク使用量の物理的な量と予約済みの量に関して、より詳しい情報を表示するには、**「履歴」**をクリックします。表示する時間フレームとして、週次または月次のいずれかを指定できます。使用量の履歴ビューには、選択した期間におけるメモリーまたはディスク使用量のグラフが表示されます。  
	<dl>
	<dt><strong>予約済み限度</strong></dt>
	<dd>水平方向の点線で表される「予約済み限度」は、環境内で稼働中のすべてのアプリケーションによって一括予約可能なメモリーまたはディスク・スペースの総量です。</dd>
	<dt><strong>予約済み</strong></dt>
	<dd>「予約済み」領域には、環境内で稼働中のすべてのアプリケーションによって現時点で一括予約されているメモリーまたはディスク・スペースが示されます。
	<p>特定の時点で最大のメモリーを予約済みの組織を確認するには、その時点と関連付けられている、「予約済み」領域に沿った点の上にマウスを移動します。次に、表示される円グラフ内の組織をクリックすると、その組織についての詳しい情報が表示されます。</p></dd>
	<dt><strong>物理的限度</strong></dt>
	<dd>水平方向の点線で表される「物理的限度」は、環境用に購入された物理メモリーまたはディスク・スペースの量を示します。</dd>
	<dt><strong>物理的</strong></dt>
	<dd>「物理的」領域には、実際に使用されているメモリーまたはディスク・スペースの量が示されます。</dd>
	</dl>
	
#### サービス使用量の詳細
{: #servicesresourceusage}

**「サービス」**タブには、専用サービス用の最大容量との関連で合計サービス使用量が表示されます。例えば、専用 Cloudant サービスがあり、1000 GB の容量のうちの 500 GB を使用している場合、合計容量の 50% が使用されたことを示すグラフィックが表示されます。容量の限度にどの程度近づいているかに基づいて、グラフィックの色が変わります。黄色は、容量の 70% から 84% が使用されたことを示し、赤色は使用可能な容量の 85% 以上に達したときに使用されます。

**注**: サービス使用量に関する情報は、現時点では一部の環境では利用できない場合があります。この機能は、Cloudant、MessageHub、API Connect、および Session Cache に使用できます。


### アカウント使用量
{: #accountusage}

専用環境またはローカル環境のアカウントの月々の使用量を表示できます。このデータを使用して、使用量に基づいて特定の組織に対する課金額を特定できます。**Read** アクセス権限を持つ **Users** 許可が割り当てられたすべての管理コンソール・ユーザーは、アカウント使用量データを表示できます。それに加えて、組織請求管理者は、管理コンソール **Users** 許可が割り当てられていない場合でも、自分の組織のアカウント使用量データを表示できます。管理コンソール管理者 (Superuser 許可) は、**「アカウント」** &gt; **「組織の管理」**をクリックすることによって、組織の請求管理者の役割を割り当てることができます。

アカウント使用量データを表示するには、以下の手順を実行します。

<ol>
<li><strong>「アカウント」</strong> &gt; <strong>「使用状況ダッシュボード」</strong>をクリックします。</li>
<li>データを表示する組織を選択します。</li>
<li>以下のカテゴリーの使用量詳細を表示できます。<ul>
<li>使用量のあるランタイム・アプリ</li>
<li>ランタイム・アプリの合計使用量 (GB 時間)</li>
<li>使用量のあるサービス・インスタンス</li>
</ul>
</li>
<li>オプション: <strong>「クラウド・アクティビティー」</strong>メニューを使用して、月を選択し、特定の月のデータを表示します。</li>
<li>オプション: <strong>「データのエクスポート」</strong>をクリックして、<strong>CSV</strong> または <strong>JSON</strong> を選択し、選択した月のデータを <code>CSV</code> ファイルまたは <code>JSON</code> ファイルにエクスポートします。</li>
</ol>

{{site.data.keyword.Bluemix_notm}} Public からシンジケートされるランタイム、アプリ、およびサービスについて、月々の使用量および関連する料金をアカウント・レベルで表示することもできます。このデータを使用して、使用量に基づいて特定の組織に対する課金額を特定できます。

<ol>
<li><strong>「アカウント」</strong> &gt; <strong>「使用状況ダッシュボード」</strong>をクリックします。</li>
<li><strong>「パブリック」</strong>をクリックします。</li>
<li>データを表示する組織を選択します。</li>
<li>以下のカテゴリーの使用量詳細を表示できます。<ul>
<li>使用量のあるランタイム・アプリ</li>
<li>ランタイム・アプリの合計使用量 (GB 時間)</li>
<li>使用量のあるサービス・インスタンス</li>
<li>シンジケートされたすべてのランタイム、サービス、およびアプリの課金の要約</li>
</ul>
</li>
<li>オプション: 棒グラフから月を選択して、特定の月のデータを表示します。デフォルトでは、今月のデータが表示されます。</li>
<li>オプション: <strong>「データのエクスポート」</strong>をクリックして、<strong>CSV</strong> または <strong>JSON</strong> を選択し、選択した月のデータを <code>CSV</code> ファイルまたは <code>JSON</code> ファイルにエクスポートします。</li>
</ol>


### 組織の使用量
{: #orgusage}

組織ごとの使用量を表示するには、**「管理」&gt;「組織管理」**をクリックし、**「組織リスト」**から組織を選択します。選択した組織の**「組織の管理」**ページで、以下の使用量情報を表示できます。

- 現在使用中のサービスの数。
- 現在使用中の経路の数。
- 割り当て量のうち、どのくらいの量が現在使用されており、どのくらいの量が現在使用されていないかを示す、メモリー割り当て量グラフ。
- どのアプリケーションが使用済みメモリー割り当て量に含まれているかを示す、アプリケーション割り振りグラフ。
- デプロイされたアプリごとの 3 カ月間の使用 GB 時間数のレポートを表示する、従量制アプリケーション使用量グラフ。**「リスト表示」**を選択すると、すべてのアプリについて、アプリごとのメモリー割り振りおよび過去 3 カ月間の従量制 GB 時間使用量などのデータを確認できます。

組織ごとの使用量の表示、割り当て量プランの調整、および組織の管理について詳しくは、『[組織の管理](../admin/index.html#oc_organizations)』を参照してください。

### レポート
{: #oc_report}

ご使用の {{site.data.keyword.Bluemix_notm}} インスタンスに関して、セキュリティー・レポートやログ (DataPower&trade;、ファイアウォール、およびログイン監査など) を表示できます。レポートやログを表示するには、**「管理」&gt;「レポートおよびログ (REPORTS AND LOGS)」**をクリックします。

以下のオプションから選択します。

- フィールドから開始日および終了日を選択して、表示するレポートとログをフィルタリングできます。

- ナビゲーション・ペインから各種レポートを展開および表示できます。
- レポートおよびログのコレクション内で検索できます。検索は、レポート名に加え、レポートおよびログ内に含まれているテキスト・コンテンツにも適用されます。**「管理イベント (Administration Events)」**、**「DataPower レポート (DataPower Reports)」**、**「ファイアウォール (Firewall)」**、および**「ログイン監査 (Login Audit)」**によって検索をフィルターに掛けることもできます。
- レポートまたはログを表示している時、![ダウンロード](images/icon_download.png) アイコンをクリックするとレポートをダウンロードできます。

以下の表では、{{site.data.keyword.Bluemix_notm}} Local および {{site.data.keyword.Bluemix_notm}} Dedicated 用に生成されるセキュリティー・レポートのリストを示します。ほとんどのレポートは日次ベースで生成されます。ただし、暗号化および鍵管理のイベントについてのレポートは、月次で生成されます。すべてのレポートは管理コンソールで 90 日間保持され、検索することができます。90 日が経過した後は、9 カ月の間、{{site.data.keyword.Bluemix_notm}} からの要求があればオフラインで使用可能です。合計すると、レポートは 1 年までは検索に使用可能です。


{: #ld_table9}

| **カテゴリー** | **レポート** | **説明** |      
|-----------------|-------------------|---------------------|
| ファイアウォール | ファイアウォールのログイン | Vyatta ファイアウォール・デバイスへの管理者のログインに関するイベント。 |
| ファイアウォール | ファイアウォールの拒否 | 設定されているファイアウォール・ルールに従ってアクセス要求が拒否された場合に Vyatta ファイアウォール・デバイスによって生成されるイベント。 |
| {{site.data.keyword.Bluemix_notm}} 管理者のログイン・イベント | {{site.data.keyword.Bluemix_notm}} 管理者のログイン | 管理者が各 {{site.data.keyword.Bluemix_notm}} システム上で SSH セッションを開始したときにオペレーティング・システムによって生成されるイベント。 |
| {{site.data.keyword.Bluemix_notm}} アプリケーション開発者のログイン・イベント | {{site.data.keyword.Bluemix_notm}} アプリケーション開発者のログイン | コマンド・ライン、REST API、または {{site.data.keyword.Bluemix_notm}} ユーザー・インターフェースを使用して {{site.data.keyword.Bluemix_notm}} プラットフォーム・ユーザーがセッションを開始したときに {{site.data.keyword.Bluemix_notm}} プラットフォーム・ログイン・コンポーネントによって生成されるイベント。 |
| {{site.data.keyword.Bluemix_notm}} 管理者の管理イベント | {{site.data.keyword.Bluemix_notm}} 管理者のオペレーティング・システム管理イベント | 管理者が現行作業セッション内でアクションを実行したときにオペレーティング・システムによって生成されるイベント。 |
| {{site.data.keyword.Bluemix_notm}} アプリケーション開発者の管理イベント | {{site.data.keyword.Bluemix_notm}} (Cloud Foundry) 管理イベント | コマンド・ライン、REST API、または {{site.data.keyword.Bluemix_notm}} ユーザー・インターフェースを使用して {{site.data.keyword.Bluemix_notm}} プラットフォーム・ユーザーによって実行された操作に関連するイベント。 |
| {{site.data.keyword.Bluemix_notm}} 管理者のデータベース管理イベント | データベース管理イベント | {{site.data.keyword.Bluemix_notm}} 内部データベースでデータベース管理者によって実行された操作に関連するイベント。 |
| 管理イベント | ユーザー管理イベント | 「管理」ページで実行されたユーザー管理アクションに関連するイベント。 |
| 管理イベント | カタログ | サービス・カタログの変換に関連するイベント。 |
| 管理イベント | セキュリティー・レポート管理イベント | 「管理」ページで実行されたセキュリティー・レポート管理アクションに関連するイベント。 |
| アクセス・レビュー | アクセス・レビュー・レポート | 特権アクセスのレビュー。 |
| 変更管理 | ソフトウェア変更管理 | 変更管理アクティビティー。 |
| 鍵管理 | カスタム SSL 証明書の管理 | アップロードおよび保管されたカスタム SSL 証明書。 |
| 暗号化 | 転送中のデータ暗号化 | 構成されている転送中のデータ暗号化。 |
| アンチウィルス | アンチウィルス・スキャン・レポート | 配置されているアンチウィルス・ソフトウェア。 |
| ソフトウェア・フィックス管理 | パッチ適用レポート | 適用されたソフトウェア・フィックス。 |
| セキュリティー・インシデント管理 | セキュリティー・インシデント修復レポート | セキュリティー・インシデント管理のセキュリティー・インシデントのエビデンス。 |
{: caption="表 9. セキュリティー・レポートのリスト" caption-side="top"}

## 状況の表示
{: #oc_status}

{{site.data.keyword.Bluemix_notm}} 環境および管理コンソールの状況を表示できます。

### {{site.data.keyword.Bluemix_notm}} 環境の状況

{{site.data.keyword.Bluemix_notm}} の「状況」ページを使用して、ご使用の {{site.data.keyword.Bluemix_notm}} インスタンスの状況をモニターできます。**「サポート」** &gt; **「状況」**をクリックします。

「状況」ページは、{{site.data.keyword.Bluemix_notm}} プラットフォームや {{site.data.keyword.Bluemix_notm}} 内の主要なサービスに影響を及ぼす重要な事象に関する通知や発表を見つけるための中心的な場所です。通知を調べずに済むように、通知の RSS フィードをサブスクライブすることができます。「状況」ページおよび RSS フィードのセットアップについて詳しくは、『[{{site.data.keyword.Bluemix_notm}} の表示](../support/index.html#viewing-bluemix-status)』を参照してください。

### 管理コンソールの状況

{{site.data.keyword.Bluemix_notm}} 環境の初期デプロイメント後に、ご使用の環境の管理に使用されるコンポーネントに対して検証チェックが自動的に実行されます。検証検査の実行後に、管理コンソールの「検証チェック」ページに移動して、コンポーネントの状況を確認できます。このページにアクセスするには、<code>https://console.&lt;subdomain&gt;.bluemix.net/check</code> に移動します。ここで、`<subdomain>` は、ご使用のローカルまたは専用インスタンスの名前です。

検証はいつでも実行できます。検証を実行するためのオプションを選択するには、ログインしていなければなりません。ユーザーの追加時、組織の編集時、またはサービスの管理時に障害が発生した場合は、この検査を実行して、障害が発生しているか切断されているコンポーネントがないかを確認します。問題を迅速に解決するために、検査の情報を使用してサポート・チケットをオープンできます。

## カタログの管理
{: #oc_catalog}

{{site.data.keyword.Bluemix_notm}} カタログで、どの {{site.data.keyword.Bluemix_notm}} サービスをユーザーに表示するかを管理することができます。**「管理」&gt;「カタログ管理」**をクリックします。

サービス・タイルを選択して、サービス・プランの表示可能性を編集します。表示可能性を編集するには、以下のオプションから選択します。

- 非表示のサービスを表示して、「カタログ」でユーザーに表示されるようにするには、**「すべてのプランを有効化 (ENABLE ALL PLANS)」**を選択します。
- {{site.data.keyword.Bluemix_notm}} カタログで、サービスをユーザーに対して非表示にするには、**「すべてのプランを無効化 (DISABLE ALL PLANS)」**を選択します。
- 個別プランの表示可能性を制御するには、プラン名を選択してから、ドロップダウン・メニューを使用して**「すべての組織に対して有効化 (Enable for all organizations)」**、 **「すべての組織に対して無効化 (Disable for all organizations)」**、または**「特定の組織に対してプランを有効化 (Enable plan for specific organizations)」**を選択します。

<!-- staging only start -->

アプリケーションの作成時におけるご使用のデベロッパーの互換性に基づいて、選択する使用可能なビルドパックの優先順位の順序を管理することもできます。

1. **「管理」&gt;「カタログ管理」**に移動します。
2. **「計算」**セクションに移動します。
3. **「ビルドパック優先度」**を選択します。
4. リスト内で、優先順位を変更するビルドパック・オプションを選択します。
5. オプションを選択した状態で、矢印を使用してそのオプションをリスト内で移動します。

<!-- staging only end -->

### サービス・ブローカーの登録
{: #servicebrokerui}

{{site.data.keyword.Bluemix_notm}} カタログに表示したいサービスがある場合、[サービス・ブローカー ![「外部リンク」アイコン](../icons/launch-glyph.svg)](http://docs.cloudfoundry.org/services/api.html){: new_window} を実装して登録する必要があります。ブローカーを登録した後、ローカル・インスタンスまたは専用インスタンス内のサービスにアクセス可能な組織を選択できます。

サービス・ブローカーを処理する方法は、サービス・ブローカーが管理するサービスの数や、サービス・ブローカーが既に {{site.data.keyword.Bluemix_notm}} に登録されているかどうかによって異なります。

- サービス・ブローカーが 1 つのサービスを管理する場合、[Service Broker API ![「外部リンク」アイコン](../icons/launch-glyph.svg)](http://docs.cloudfoundry.org/services/api.html){: new_window} の実装後に、ユーザー・インターフェースを使用してそれを登録できます。『[1 つのサービスを管理するサービス・ブローカーの登録](index.html#registerbrokerui)』を参照してください。
- サービス・ブローカーが複数のサービスを管理する場合、[{{site.data.keyword.Bluemix_notm}} 管理 CLI](../cli/plugins/bluemix_admin/index.html) プラグイン (`ba` サブコマンド) で cf CLI を使用するか、[カスタム・サービス API](index.html#servicebrokerapi) を使用します。
- サービス・ブローカーが既に登録されていて、それを更新または削除する場合、[{{site.data.keyword.Bluemix_notm}} 管理 CLI](../cli/plugins/bluemix_admin/index.html) プラグイン (`ba` サブコマンド) で cf CLI を使用するか、[カスタム・サービス API](index.html#servicebrokerapi) を使用します。

#### 1 つのサーバーを管理するサービス・ブローカーの登録
{: #registerbrokerui}

<!-- staging only start -->

サービス・ブローカーを登録するには、以下の情報を検討し、以下の手順を実行します。

**始める前に**: <a href="http://docs.cloudfoundry.org/services/api.html" target="_blank">Cloud Foundry Service Broker API の実装 <img src="../icons/launch-glyph.svg" alt="「外部リンク」アイコン"></a> を実行して、サービスと {{site.data.keyword.Bluemix_notm}} との間の通信を可能にします。Service Broker API は、{{site.data.keyword.Bluemix_notm}} が利用する REST エンドポイントのセットです。

サービス・ブローカーを実装する際に、<code>GET /v2/catalog</code> の JSON 応答で、サービスの定義とサービス・プラン (表示するサービス情報を含む) を指定する必要があります。例として、以下のカタログ (GET) 応答のサンプル JSON を検討してください。

```
{
"services":[
   {
      "bindable":true,
      "description":"Cool Service is an analytics and data warehousing solution.",
      "id":"cool-service-id",
      "name":"coolservice",
      "metadata":{
         "displayName":"Cool Service",
         "serviceMonitorApi":"https://myservicesstatus.mybluemix.net/healthcheck/",
         "providerDisplayName":"Cool company",
         "longDescription":"Cool Service is a data warehousing and analytics solution. You can quickly move your data into a next-generation columnar in-memory database and start running complex analytical queries.",
         "bullets":[
            {
               "title":"Fast and Simple",
               "description":"Cool Service uses dynamic in-memory columnar technology and innovations, such as parallel vector processing and actionable compression to rapidly scan and return relevant data."
            },
            {
               "title":"Connectivity",
               "description":"Cool Service is built to let you connect easily and to all of your services and applications. You can start analyzing your data immediately with familiar tools."
            }
         ],
         "featuredImageUrl":"http://path/to/icon_64x64.png",
         "imageUrl":"http://path/to/icon_50x50.png",
         "mediumImageUrl":"http://path/to/icon_32x32.png",
         "smallImageUrl":"http://path/to/icon_24x24.png",
         "documentationUrl":"http://path/to/documentation.html",
         "instructionsUrl":"http://path/to/servicesample.md",
         "termsUrl":"http://path/to/terms_of_agreement.pdf",
         "media":[
            {
               "type":"youtube",
               "thumbnailUrl":"http://path/to/thumbnail.png",
               "url":"http://path/to/youtube/video",
               "caption":"Using Cool Service in 60 Seconds"
            },
            {
               "type":"image",
               "thumbnailUrl":"http://path/to/thumbnail.png",
               "url":"http://path/to/image_file.png",
               "caption":"Cool Service connects applications"
            },
            {
               "type":"video",
               "thumbnailUrl":"http://path/to/thumb.png",
               "caption":"Cool Service works with tables",
               "source":[
                  {
                     "type":"video/mp4",
                     "url":"http://path/to/video_file.mp4"
                  },
                  {
                     "type":"video/ogg",
                     "url":"http://path/to/video_file.ogg"
                  }
               ]
            }
         ]
      },
      "plans":[
         {
            "name":"smallplan",
            "description":"Dedicated schema and tablespace per service instance on a shared server. 1GB and 10GB of compressed database storage can hold up to 5GB and 50GB of uncompressed data respectively based on typical compression ratios.",
            "free":false,
            "id":"cool-service-plan-id",
            "metadata":{
               "bullets":[
                  "1 GB Min per instance. 10 GB Max per instance."
               ],
               "costs":[
                  {
                     "unitId":"INSTANCES_PER_MONTH",
                     "unit":"MONTHLY",
                     "partNumber":"D15UTLL"
                  }
               ],
               "displayName":"Small"
            }
         }
      ]
   }
]
}
```
{: codeblock}

JSON ファイルを埋めるのに役立つ表を以下に示します。


{: #ld_table10}

| **JSON フィールド** | **説明** |
|-----------------|-----------------|
|bindable   | サービス・インスタンスをアプリケーションにバインドできるかどうかを示すブール値。  |
|description | cf marketplace コマンドを使用するとき、または、{{site.data.keyword.Bluemix_notm}} ユーザー・インターフェースのカタログ内でサービス・アイコンの上にカーソルを移動したときに表示される、サービスの説明。この説明には、単一の文または句を追加できます。 |
|name | cf コマンド・ライン・インターフェースに表示される、サービスの名前。この名前は、{{site.data.keyword.Bluemix_notm}} 内で固有でなければならず、小文字を使用する必要があり、スペースを含むことはできません。サービスを {{site.data.keyword.Bluemix_notm}} に登録した後でサービス名を変更することはできません。 |
|id  | サービスの ID。この ID は、{{site.data.keyword.Bluemix_notm}} 内で固有でなければならず、GUID (Globally Unique Identifier) である必要があります。サービスを {{site.data.keyword.Bluemix_notm}} に登録した後でサービスの ID を変更することはできません。 |
|metadata | {{site.data.keyword.Bluemix_notm}} カタログおよび価格設定シートに表示される、サービス・プランのメタデータ。metadata フィールドはオプションです。メタデータに関する追加フィールドを指定できます。詳しくは、『[メタデータのフィールド](index.html#metadatafields)』表を参照してください。 |
|plans | 一連のサービス・プラン定義。詳しくは、『[プランのフィールド](index.html#planfields)』表を参照してください。 |
{: caption="表 10. JSON フィールド" caption-side="top"}


{: #metadatafields}

| **メタデータ値** | **説明** |
|---------------------|-----------------|
|displayName          | {{site.data.keyword.Bluemix_notm}} ユーザー・インターフェースに表示されるプランの名前。この名前は、カタログのサービス詳細ページおよび価格設定シートの両方に表示されます。プラン名の先頭文字のみを大文字にしてください。デフォルト・プラン名として「Default」を使用せず、代わりに「Standard」を使用してください。 |
|providerDisplayName | サービス・プロバイダーの名前。 |
|longDescription | サービスの詳細な説明。少なくとも 2 つの文章を使用して詳細説明を作成するよう検討してください。 |
|plans                | 一連のサービス・プラン定義。plans フィールドの各項目は、name、description、free、id、および metadata フィールドからなります。詳しくは、『[プランのフィールド](index.html#planfields)』表を参照してください。 |
|bullets | 各サービスに対して並べて表示される一連のストリング。bullets を使用して、詳細説明に加えて情報を提供できます。bullets フィールドには、少なくとも 2 つのリスト項目エレメントが含まれていなければなりません。各 bullet には、title フィールドと description フィールドが含まれます。 |
|imageUrl | 大きな PNG 画像 (50 x 50 ピクセル) の URL。 |
|smallImageUrl | 小さな PNG 画像 (24 x 24 ピクセル) の URL。 |
|mediumImageUrl | 中くらいの PNG 画像 (32 x 32 ピクセル) の URL。 |
|featuredImageUrl | フィーチャー画像 (64 x 64 ピクセル) の URL。 |
|documentationUrl | サービスに関する文書の URL。 |
|termsUrl | ご使用条件を含む PDF ファイルの URL。 |
|media (オプション) | {{site.data.keyword.Bluemix_notm}} ユーザー・インターフェースでサービスを紹介するビデオおよび画面キャプチャーを表示するための一連のエレメント。media エレメントに含めることのできるフィールドは次のとおりです。type (image、youtube、video)、thumbnailUrl (media エレメントのプレビュー・イメージの URL)、url (画面キャプチャーまたは YouTube ビデオの URL)、source (YouTube でホストされていないビデオのソース。ビデオのソースの "type" は、HTML5 でサポートされていなければなりません。ビデオの場合は "type" と "url" を含めてください)、および caption (media エレメントのキャプション。キャプションは、身体障害を持つユーザーが media エレメントを理解するためのアクセシビリティーで役立ちます) |
|serviceKeysSupported | サービス・キー API がサポートされるかどうかを示すブール値。サービス・キー API は、{{site.data.keyword.Bluemix_notm}} 外部でのサービスの使用を可能にするために使用されます。デフォルト値は	false です。 |
|plan_updateable | サービスがプラン変更をサポートするかどうかを示すブール値。デフォルト値は	false です。 |
|embeddableDashboard (オプション) | {{site.data.keyword.Bluemix_notm}} ユーザー・インターフェースにおけるサービス・ダッシュボードの表示方法を示すフィールドです。このフィールドを指定しない場合、ダッシュボードは組み込まれますが幅が最小 960px に制限され、またこのダッシュボードには iframe の周りに水平方向の埋め込みが追加されます。使用できるのは、true、false、drilldown、または launch です。このフィールドには、値 true、false、drilldown、および launch を使用できます。  |
|notCreatable (オプション) | サービスのインスタンスを {{site.data.keyword.Bluemix_notm}} ユーザー・インターフェースおよび cf コマンド・ライン・インターフェースから作成できるかを示すブール値。値 true は、{{site.data.keyword.Bluemix_notm}} ユーザー・インターフェースからも cf コマンド・ライン・インターフェースからもサービス・インスタンスを作成できないことを意味します。デフォルト値は	false です。 |
|notCreatableMessage (オプション) | サービス・インスタンスを作成できない場合に {{site.data.keyword.Bluemix_notm}} ユーザー・インターフェースに表示されるメッセージ。このフィールドを指定しない場合、以下のデフォルト・メッセージが表示されます。「使用可能になった時に通知するには、ご使用の E メール・アドレスを確認するか、別の E メール・アドレスを入力してください。」 |
|notCreatableRobotMessage (オプション) | {{site.data.keyword.Bluemix_notm}} ユーザー・インターフェースでサービス詳細ページの吹き出しに表示されるメッセージ。このメッセージは、このサービスを使用できない原因となる問題やその他の理由が存在する可能性があることを示すために使用されます。理由を説明するためのメッセージを指定できます。このフィールドを指定しない場合、次のデフォルト・メッセージが表示されます。「このサービスは現在使用できません。」 |
|apiReferenceUrl (オプション) | 「カタログ」のサービス詳細ページにおける「API 参照」エリア内の iframe の URL。「カタログ」のサービス詳細ページに使用されない場合、{{site.data.keyword.Bluemix_notm}} REST API Doc マイクロサービスで登録したときにサービスの REST API Doc に割り当てた数値を入力できます。これはサービス・ダッシュボードに REST API Doc を表示します。 |
|sdkDownloadUrl (オプション) | 「SDK のダウンロード」ボタンをクリックすると開く Web ページの URL。「SDK のダウンロード」ボタンは、「ダッシュボード」内のアプリケーション概要ページのサービス・タイルに配置されています。この Web ページは、新規ブラウザー・タブで開きます。 |
|serviceMonitorApi    | サービスの正常性をレポートする JSON データ (下の例を参照) を返す API への URL。サービスの metadata 中に serviceMonitorApi または serviceMonitorApp がある必要があります。次のコード例を参照してください。 |
|serviceMonitorApp    | {{site.data.keyword.Bluemix_notm}} にデプロイでき、サービスにバインドしてサービス状況固有の出力を提供することのできるアプリケーションへの URL。このアプリケーションは、serviceMonitorApi と同じ JSON データ・フォーマットを返さなければなりません。サービスの metadata 中に serviceMonitorApi または serviceMonitorApp がある必要があります。次のコード例を参照してください。 |
{: caption="表 11. メタデータ・フィールド" caption-side="top"}


```
{
    "service": "servicename",
    "version": 1,
    "health": [
        {
            "plan": "starter",
            "status": 0,
            "serviceinput": "count(*) from healthcheck",
            "serviceoutput": "10…or error 1234 database not running",
            "responsetime": 4
        },
        {
            "plan": "enterprise",
            "status": 1,
            "serviceinput": "count(*)fromhealthcheck",
            "serviceoutput": "10…orerror1234databasenotrunning",
            "responsetime": 4
        }
    ]
}
```
{: pre}

次の例は、GET /v2/catalog の JSON 応答が {{site.data.keyword.Bluemix_notm}} カタログのサービス詳細ページにどのようにマップされるのかを示します。

![カタログ内のサービス詳細。](images/metadata.png "Bluemix カタログのサービス詳細ビュー")


{: #planfields}

| **プラン値** | **説明** |
|---------------------|-----------------|
|name       | cf コマンド・ライン・インターフェースで使用される、サービス・プランの名前。例えば、cf marketplace コマンドの出力にこのプラン名が表示されます。プラン名は小文字でなければならず、スペースを含むことはできず、サービス内で固有である必要があります。  |
|description       | サービス・プランの説明。この説明は、{{site.data.keyword.Bluemix_notm}} カタログのサービス詳細ページでプランを選択した後に表示されます。 |
|free      | サービス・プランが無料かどうかを示すブール値。デフォルト値は true です。 |
|id       | サービス・プランの ID。この ID は固有でなければならず、GUID でなければなりません。  |
|metadata (オプション)    | {{site.data.keyword.Bluemix_notm}} カタログおよび価格設定シートに表示される、サービス・プランのメタデータ。metadata フィールドはオプションです。metadata フィールドの内部には、displayName、type (subscription、reservable、planDetails)、bullets、costs (unitId、unit、partNumber)、および paidOnly の各フィールドを指定できます。詳しくは、次の『[プランのメタデータのフィールド](index.html#planmetadata)』表を参照してください。 |
{: caption="表 12. プランのフィールド" caption-side="top"}


{: #planmetadata}

| **プランのメタデータ値** | **説明** |
|------------------------|-----------------|
|displayName             | {{site.data.keyword.Bluemix_notm}} ユーザー・インターフェースに表示されるプランの名前。この名前は、カタログのサービス詳細ページおよび価格設定シートの両方に表示されます。   |
|type                    | プランのタイプ。このフィールドに使用できる値は次のとおりです。subscription (サブスクリプション・プラン。デフォルト値は false です)、reservable (予約可能プラン。この値は、プランがサブスクリプション・プランである場合、つまり、plan.metadata.subscription の値が true である場合のみ使用されます。デフォルト値は false です)、planDetails (このプランで使用できるリソースの詳しい数量と説明。この値は、プランが予約可能である場合、つまり、plan.metadata.reserveable の値が true である場合のみ使用されます) |
|bullets                 | このプランで使用できるリソースの説明。この説明は、カタログのサービス詳細ページおよび価格設定シートの**「フィーチャー」**列に表示されます。 |
|costs                   | カタログのサービス詳細ページおよび価格設定シートの「価格」列に表示される、サービスのコスト情報。一連の項目のそれぞれには次のフィールドが含まれます: unitId (ユニットの ID。複数形を使用し、すべての文字を大文字にしてください。無料プランの場合、このフィールドはオプションです)、unit (サービスの課金計算に使用されるメトリック。このフィールドの値は、課金メトリックを表すために {{site.data.keyword.Bluemix_notm}} ユーザー・インターフェースで使用されます)、および partNumber (請求システムで使用される `part_number` ID。無料プランの場合、このフィールドはオプションです).   |
|paidOnly (オプション)     | このサービス・プランが {{site.data.keyword.Bluemix_notm}} 有料アカウントにのみ使用可能であるかどうかを示すブール値。値 **true** は、このサービス・プランが有料アカウントのみを対象にしていて、トライアル・アカウントに追加できないことを意味します。値 **false** は、このサービス・プランを有料アカウントとトライアル・アカウントの両方に追加できることを意味します。デフォルト値は **false** です。	  |
{: caption="表 13. プランのメタデータ・フィールド" caption-side="top"}

次の例は、GET /v2/catalog の JSON 応答が {{site.data.keyword.Bluemix_notm}} カタログのサービス詳細ページにどのようにマップされるのかを示します。具体的には、上の表で説明されているプランのメタデータの各フィールドがユーザー・インターフェースにどのようにマップされるのかを示しています。

![カタログ内のプランのメタデータ詳細。](images/plan_metadata.png "Bluemix カタログでのプランのメタデータ値ビュー")


<!-- staging only end -->

<ol>
<li>Service Broker API を実装した後、<strong>「管理」</strong> &gt; <strong>「カタログ管理」</strong>と進みます。</li>
<li><strong>「サービス・ブローカーの登録」</strong>をクリックします。</li>
<li>以下のフィールドに値を入力して、フォームを完成させます。<ul>
<li>サービス・ブローカー名</li>
<li>サービス・ブローカー URL</li>
<li>サービス・ブローカー・ユーザー名</li>
<li>サービス・ブローカー・パスワード</li>
</ul>
</li>
<li><strong>「接続」</strong>をクリックします。</li>
<li>利用可能なプラン、アイコン、およびサービスの説明など、サービスの情報を確認します。<br />
<p><strong>注</strong>: サービスのカタログ情報を変更する必要がある場合は、サービス・ブローカーを更新し、フォームに記入して、再度、登録プロセスを開始します。</p>
</li>
<li><strong>「登録」</strong>をクリックします。</li>
<li>サービスのすべてのプランを有効にするか、特定のプランのみを有効にするかを選択します。デフォルトでは、すべてのプランが無効になっています。</li>
<li>すべての組織または特定の組織のサービス・インスタンスを有効にします。</li>
</ol>

これで、サービスが {{site.data.keyword.Bluemix_notm}} カタログの「カスタム・サービス」カテゴリーに表示されるようになりました。**「管理」&gt;「カタログ管理」**に移動し、カタログでタイルを選択します。いつでも、別のプランを有効にしたり、組織に対するプランの表示可能性を編集したりできます。


## 組織の管理
{: #oc_organizations}

組織の作成と削除、組織の管理者の追加または削除、および割り当て量の使用状況のモニターを行って組織を管理し、ビジネスにとって最良の決定を下すことができます。

**「管理」&gt;「組織管理 (ORGANIZATION ADMINISTRATION)」**をクリックします。

さまざまなセクションを展開および表示できます。組織の割り当て量プランを確認および管理することもできます。

### 組織の作成

組織を作成し、管理者を追加するには、以下の手順を実行します。

1. <strong>「組織の作成」</strong>をクリックします。
2. 組織の名前を入力します。
3. 管理者として追加する個人の名前または E メールを入力します。複数の名前を入力および選択することで、複数のマネージャーを追加できます。
4. <strong>「組織の作成」</strong>をクリックし、変更を保存して組織を作成します。

### スペースの作成

組織内にスペースを作成できます。例えば、開発環境として *dev* スペース、テスト環境として *test* スペース、実稼働環境として *production* スペースを作成できます。その後、各スペースにアプリを関連付けることができます。以下のステップを実行してスペースを作成します。

1. メニュー・バーで**「アカウント」** &gt; **「組織の管理」**をクリックします。
2. スペースを追加する組織を選択します。
3. **「スペースの作成」**をクリックします。
4. スペース名を入力してください。
5. **「作成」**をクリックします。

### 割り当て量のモニター

**「割り当て量のモニター」**セクションを展開して、以下の情報を表示できます。

- 環境メモリー使用量では、システム環境全体のメモリー使用量が詳細に示されます。この図表には次の情報が示されます。
<ul>
<li>使用中の物理メモリーおよび使用可能な物理メモリーの限度</li>
<li>現在予約済みのメモリーの割り当て量および予約可能なメモリーの限度</li>
<li>組織用のメモリーの合計割り当て量</li>
</ul>
次のタイプのメモリー使用量が図表に表示されます。

	<dl>
	<dt><strong>物理的使用量</strong></dt>
	<dd>環境で使用されている物理メモリー。</dd>
	<dt><strong>物理的限度</strong></dt>
	<dd>環境で使用可能な合計物理メモリー。</dd>
	<dt><strong>予約済み割り当て量</strong></dt>
	<dd>すべての組織におけるデプロイ済みのすべてのアプリケーション用に予約されているメモリーの合計。予約済み割り当て量の合計が環境用のメモリーの物理的限度を上回ることが可能です。例えば、物理メモリー限度が 16 GB の場合、合計 5 個の異なるアプリケーションにそれぞれ 4 GB のメモリーを予約することが可能です。予約された割り当て量がメモリー限度を超えることになります。しかし、多くの場合、全部のアプリケーションが各アプリケーションに予約された合計割り当て量を使用することはありません。また、すべてのアプリケーションが予約済みメモリーの合計割り当て量のすべてを同時に使用することはないと考えられます。</dd>
	<dt><strong>制限の予約</strong></dt>
	<dd>環境のすべてのアプリケーション用に予約できるメモリーの合計。</dd>
	<dt><strong>合計割り当て量 (Total quota)</strong></dt>
	<dd>すべての組織のメモリー割り当て量の合計。</dd>
	</dl>
	**注**: これらのデータは 4 時間ごとに自動的に更新されます。データが自動的に更新されるのを待たずにリフレッシュしたい場合は、**「再計算」**をクリックしてください。

- 組織のメモリー使用量。このセクションでは、組織レベルでのメモリー使用量の詳細が示されます。合計メモリー割り当て量、予約済み割り当て量、および各組織で使用されている物理メモリーを表示できます。組織ごとの最大メモリー予約量をリストした情報が図表に示されます。デフォルトでは、予約したメモリー量が最大の組織がリストの先頭になります。**「最大メモリー使用量 (Highest Memory Usage)」**および**「過剰メモリー割り振り (Excess Memory Allocation)」**を基準としてソートできます。

	<dl>
	<dt><strong>最大メモリー使用量 (Highest Memory Usage)</strong></dt>
	<dd>最大メモリー量を予約した組織を特定するためにこのオプションを使用できます。予約したメモリー量が最も多い組織を特定するには、最大メモリー使用量を基準としてソートします。リストは、予約された割り当て量によってソートされます。</dd>
	<dt><strong>過剰メモリー割り振り (Excess Memory Allocation)</strong></dt>
	<dd>合計メモリー割り当て量が必要より大きい組織を特定するためにこのオプションを使用できます。過剰メモリー使用量を基準としてソートすることで、当該組織に割り振られている割り当て量に対して使用メモリー量が最小の組織を識別します。</dd>
	</dl>

### 割り当て量の管理
{: #manageorgquota}

割り当て量は、環境内の組織でのリソース制限を表し、組織が作成されるときに割り当てられます。組織内のスペースのアプリケーションまたはサービスはすべて、割り振られている割り当て量の使用に算入されます。組織の割り当て量を管理するには、以下のステップを実行します。

<ol>
<li>「組織のメモリー使用量」セクションで、グラフ内で編集する組織のバーをクリックするか、「組織リスト」セクションで組織の名前を選択します。
「組織情報」ページで、組織の名前変更、および管理者の追加または削除を行うことができます。
<p><strong>注</strong>: 組織の現在の使用量には不十分な割り当てプランを選択した場合、メッセージを受け取ります。</p></li>
<li><strong>「Cloud Foundry」</strong>または<strong>「コンテナー」</strong>をクリックします。デフォルトでは、Cloud Foundry 割り当て量ページが開きます。
<ul>
<li>「Cloud Foundry」ページでは、以下のリソースについて、プランの選択および割り当て量の詳細表示を行うことができます。
<ul>
<li>サービス</li>
<li>経路</li>
<li>メモリー割り当て量</li>
<li>アプリケーション割り振り</li>
</ul>
</li>
<li><strong>「コンテナー」</strong>ページでは、以下のフィールドの値を割り当てることができます (値は整数でなければなりません)。
<dl class="parml">
<dt class="pt dlterm">イメージ限度</dt>
<dd class="pd">専用レジストリー内に保管できるコンテナー・イメージの最大数。コンテナー・イメージは、作成するすべてのコンテナーの基礎となるものです。イメージは Dockerfile から作成されます。Dockerfile は、オペレーティング・システム、アプリ、およびそのすべての従属物を保持する読み取り専用ファイルであり、コンテナーの構成方法が記述されます。イメージは組織の全メンバーで共有されます。</dd>
<dt class="pt dlterm">デフォルトのメモリー割り振り</dt>
<dd>新規スペース作成時に自動的に割り振られるコンテナー・メモリー量。コンテナーを作成するときには、コンテナー・サイズを選択する必要があります。このサイズは計算ホスト上でコンテナーが使用できるメモリー量を決定し、コンテナー・メモリー限度に含まれます。</dd>
<dt class="pt dlterm">最大メモリー割り振り</dt>
<dd>組織のすべてのスペースで割り振ることのできるコンテナー・メモリーの最大量。</dd>
<dt class="pt dlterm">デフォルトの浮動 IP 数</dt>
<dd>新規スペース作成時に自動的に割り振られるパブリック IP アドレスの数。パブリック IP アドレスを単一コンテナーおよびコンテナー・グループにバインドして、それらをインターネットからアクセス可能にすることができます。</dd>
<dt class="pt dlterm">最大浮動 IP 数</dt>
<dd>組織のすべてのスペースで割り振ることのできるパブリック IP アドレスの最大数。</dd>
</dl>
<strong>注:</strong> 環境にまだコンテナーがない場合、または、環境内のコンテナーをまだセットアップしていない場合は、エラー・メッセージが出されます。
<p>コンテナーについて詳しくは、『[IBM コンテナーについて](/docs/containers/container_ov.html)』を参照してください。コンテナー割り当て量について詳しくは、『[割り当て量および Bluemix アカウント](/docs/containers/container_planning_org_ov.html#container_planning_quota)』を参照してください。</p>
<strong>注:</strong> {{site.data.keyword.Bluemix_notm}} シドニー地域ではコンテナーを使用できません。</li>
</ul>
<li>「組織の管理」ページで行った変更を保存するには、<strong>「保存」</strong>をクリックします。</li>
</ol>


### 組織リストからの組織の管理
{: #manageorgfrolis}

「組織リスト」セクションでは、{{site.data.keyword.Bluemix_notm}} 環境内のすべての組織を表示することができ、組織名をクリックして個別の組織に対するアクションを実行できます。

- 組織を削除するには、「アクション」列の**「削除」**アイコン ![削除](images/icon_trash.svg) をクリックします。
- 組織の割り当て量プランおよび割り当て量の使用状況を表示するには、リスト内の組織の名前をクリックします。選択した組織の**「組織の管理」**ページで、以下の使用量情報を表示できます。

  - 現在使用中のサービスの数。
  - 現在使用中の経路の数。
  - 割り当て量のうち、どのくらいの量が現在使用されており、どのくらいの量が現在使用されていないかを示す、メモリー割り当て量グラフ。
  - どのアプリケーションが使用済みメモリー割り当て量に含まれているかを示す、アプリケーション割り振りグラフ。
  - デプロイされたアプリごとの 3 カ月間の使用 GB 時間数のレポートを表示する、従量制アプリケーション使用量グラフ。**「リスト表示」**を選択すると、すべてのアプリについて、アプリごとのメモリー割り振りおよび過去 3 カ月間の従量制 GB 時間使用量などのデータを確認できます。

- 組織の名前の編集や、管理者の追加または削除を行うには、リスト内の組織の名前をクリックし、画面のプロンプトに従います。
- 表示している組織の特定のユーザーについての情報を表示するには、ユーザー名をクリックして「ユーザー情報」を表示します。組織名をクリックすると「組織情報」の表示に戻ることができます。 

## ユーザーおよび許可の管理
{: #oc_useradmin}

ユーザーは、個別またはグループで追加できます。通常は、Lightweight Directory Access Protocol (LDAP) を使用して、自社のユーザー・レジストリーから {{site.data.keyword.Bluemix_notm}} インスタンスにユーザーが追加されます。ユーザー許可を表示することもできます。**Superuser** 許可が割り当てられている場合、他のユーザーの許可を設定および管理することもできます。**「管理」&gt;「ユーザー管理 (USER ADMINISTRATION)」**をクリックします。

「ユーザー管理 (User Administration)」ページに、ローカル・インスタンスまたは専用インスタンスのユーザーが全員表示されます。
テーブルには、各ユーザーの許可がアイコンを使用して表示されます。許可は、None、**Superuser**、**Basic Access**、**Catalog**、**Reports**、および **Users** のいずれかになります。**Superuser** 許可と **Basic Access** 許可は、**「オン (On)」**または**「オフ (Off)」**に設定できます。一方、残りの許可は、アイコンで表されているように、その許可に対する **Read** アクセスまたは **Write** アクセスなど、特定のアクセス・タイプを使用して有効または無効にされます。アイコンの各タイプと説明については、『[許可](#permissions)』を参照してください。

### ユーザーの操作
{: #workwithusers}

ユーザーの許可に対する **Read** または **Write** のアクセス権限に応じて、既存のユーザーの検索、ユーザーの削除、および個別またはグループ別のユーザーの追加を行うことができます。**Superuser** 許可を持っている場合は、環境内のユーザー管理に関するすべてのタスクを実行できる全アクセス権限があります。以下のユーザー管理タスクと、各タスクの完了に必要なアクセス・レベルを検討してください。

* ユーザーを検索します。**読み取り**または**書き込み**のアクセス権限があって、ユーザー名の全部または一部が分かっている場合は、**「検索」**フィールドを使用して、表内のユーザーを検索できます。ユーザーのリストを、ユーザーの組織または許可でフィルター操作することもできます。ユーザーのリストをフィルター操作するには、次の手順を実行します。
  <ol>
  <li><strong>「フィルター」</strong>をクリックします。</li>
  <li> 何を基準にフィルター操作するのかに応じて、<strong>「組織」</strong>または<strong>「許可」</strong>をクリックします。
  <dl>
	<dt><strong>組織</strong></dt>
	<dd>ユーザーをユーザーの組織でフィルター操作するには、<strong>「組織」</strong>フィールドへの組織名の入力を開始し、リストから組織を選択します。次に、その組織内でユーザーに割り当てられた役割 (複数可) を選択します。</dd>
	<dt><strong>許可</strong></dt>
	<dd>ユーザーをユーザーの許可でフィルター操作するには、最初にユーザーのタイプを選択します。例えば、すべてのスーパーユーザーを表示したい場合が考えられます。<strong>Superuser</strong> および <strong>Basic Access</strong> 以外の許可の場合は、アクセス権限のタイプ (例えば <strong>Read</strong> または <strong>Write</strong>) も選択できます。</dd>
	</dl></li>
  <li><strong>「適用」</strong>をクリックします。</li>
   </ol>

   「ユーザー管理」ウィンドウに、設定したフィルターと、指定したフィルター操作の結果であるユーザーが表示されます。フィルター操作後の表内でユーザーを検索することができます。また、指定されたフィルターのリストからフィルター・オプションを削除してリストを変更することもできます。

* 単一のユーザーを追加します。**Superuser** 許可、または **Write** アクセス権限がある **Users** 許可を持っている場合、ユーザーを追加することができます。

  1. LDAP ディレクトリーの単一のユーザーを追加するには、**「ユーザーの追加」**をクリックします。
  2. **「検索」**フィールドに、ユーザーの E メール・アドレスを入力し、取り込まれたリストからユーザーを選択します。
  3. 次に、**「組織」**フィールドで、組織名を入力し、取り込まれたリストから該当する組織を選択することで、ユーザーを追加する組織を選択します。
  4. 選択した組織にユーザーを追加するには、**「ユーザーの追加」**をクリックします。

  **注**: 追加操作が成功すると、ユーザーが表に追加され、表示および検索できるようになります。追加されたユーザーには、許可は割り当てられていません。

* LDAP ディレクトリーからユーザー・グループを追加します。**Superuser** 許可、または **Write** アクセス権限がある **Users** 許可を持っている場合、ユーザーを追加することができます。

  1. **「ユーザー・グループの追加」**をクリックします。
  2. **「検索」**フィールドに、検索するグループ名を入力し、取り込まれたリストからグループ名を選択します。
  3. 次に、**「組織」**フィールドで、組織名を入力し、取り込まれたリストから該当する組織を選択することで、ユーザー・グループを追加する組織を選択します。
  4. 選択した組織にユーザー・グループを追加するには、**「ユーザーの追加」**をクリックします。

  **注**: 50 人を超えるユーザーのグループは、バックグラウンド・バッチ・ジョブを介して追加されます。追加操作が成功すると、ユーザーまたはグループが表に追加され、表示および検索できるようになります。追加されたユーザーには、許可は割り当てられていません。

* ユーザー ID、ユーザーの E メール・アドレス、およびユーザーを追加する予定の組織が含まれているスプレッドシートをインポートすることで、ユーザー・グループを追加します。**Superuser** 許可、または **Write** アクセス権限がある **Users** 許可を持っている場合、ユーザーを追加することができます。

  **注**: ユーザー・レジストリーで使用されている値に一致するユーザー ID を入力してください。

  1. **「ユーザーのインポート」**をクリックします。
  2. **「テンプレート (.CSV) のダウンロード」**をクリックして、入力可能な必須列が入ったスプレッドシートをダウンロードします。あるいは、必須の列見出し**「ユーザー ID」**、**「E メール」**、および**「組織」**が含まれているスプレッドシートを使用して、自分で作成することもできます。テンプレートには、オプションの 2 つの列 (**「名前」**と**「姓」**) も含まれています。
  3. 必須列にユーザーの値を入力します。LDAP ディレクトリーを使用しない場合は、インポートするユーザーの必須列とオプション列の見出しを使用します。
  4. ファイルを保存し、**「ファイルのアップロード」**をクリックします。

  **注**: スプレッドシート内の列は、必須列がすべて揃っていれば、任意の順序で構いません。インポートが成功した場合、すべてのユーザーが追加されたことを示す確認メッセージを受け取ります。インポートが成功したユーザーと成功しなかったユーザーがいる場合は、エラー・メッセージを確認して、追加できなかったユーザーについてアクションを実行してください。

* ユーザーを削除します。**Superuser** 許可、または **Write** アクセス権限のある **Users** 許可を持っている場合、環境からユーザーを完全に削除できます。

    1. ユーザーを見つけ、![「削除」](images/icon_trash.svg) アイコンをクリックします。
    2. **「削除」**をクリックします。

* ユーザーが属する許可および組織を編集するには、**Superuser** 許可を持っている必要があります。ユーザーの許可を編集するには、ユーザーを見つけて、ユーザー名をクリックします。**「ユーザーの編集」**ページで、以下のように許可を有効または無効にすることができます。

    * **Superuser** または **Basic Access** 許可を有効にするには、リストから**「オン (On)」**を選択します。
    * リストから**「読み取り」**を選択して、ユーザーにその許可について **Read** (読み取り専用) アクセス権限を持たせるか、**「書き込み」**を選択して、その許可について **Write** (編集、追加、削除) アクセス権限を持たせます。
    * いずれかの許可を無効にするには、**「オフ (Off)」**を選択します。

    **注**: **Superuser** 許可を**「オン (On)」**に設定すると、**Write** アクセス権限のある他のすべての許可が設定されます。

* 特定の組織のユーザーを追加または削除するには、**Superuser** 許可、または **Write** アクセス権限のある **Users** 許可が必要です。

    1. ユーザーを組織に追加するには、表からユーザー名を選択し、**「ユーザーの編集」**ページにアクセスします。次に、検索フィールドを使用して組織を見つけ、リストから組織を選択し、**「保存」**をクリックします。
    2. ユーザーを組織から削除するには、表からユーザー名を選択し、**「ユーザーの編集」**ページにアクセスします。次に、ユーザーを削除する組織について ![「削除」](images/icon_remove.svg) をクリックし、 **「保存」**をクリックします。
    
* ユーザーが割り当てられている組織についての情報を表示するには、組織名をクリックして「組織情報」を表示します。ユーザー名をクリックすると「ユーザー情報」の表示に戻ることができます。 

### 許可
{: #permissions}

ユーザーには、ユーザーが管理コンソール内で特定のタスクを実行することを可能にする特定のアクセス・レベル (読み取りまたは書き込み) と共に以下の許可を割り当てることができます。


{: #ld_table14}

| **ユーザー許可** | **説明** |       
|-----------------|-------------------|
| Superuser | **Superuser** 許可が**「オン (On)」**に設定されているユーザーは、他のユーザーの許可を編集できます。この許可をオンに設定すると、自動的に他のすべての許可に対する全アクセス権限が有効になります。この表の各許可に概説されているタスクに加えて、保守またはインシデントに関するアラートを直接受信するための通知サブスクリプションのセットアップ、保守のスケジュール、コンソール・コンポーネント上での検証チェックの実行、および環境用の組織やスペースの作成も行えます。この許可は、管理コンソールの管理者 (admin) 役割と等価です。  |
| Basic Access | **Basic Access** 許可が**「オン (On)」**に設定されているユーザーは、{{site.data.keyword.Bluemix_notm}} ユーザー・インターフェースで「管理」ページ・オプションを表示できます。この許可が有効に設定されているユーザーは、[「システム情報」](#oc_system)タイルおよび[「リソース使用量」](#oc_resource)タイルにアクセスできます。この許可がない場合、ユーザーは「管理」メニュー・オプションの表示もアクセスもできません。この許可は、管理コンソールの管理者 (admin) 役割と等価です。この許可は、以前に使用されていた、管理コンソールのログイン許可と等価です。 |
| Catalog | **Catalog** 許可を持つユーザーには、ローカル・インスタンスまたは専用インスタンスで利用できるサービスを **Read** または **Write** (modify) するアクセス権限を割り当てることができます。読み取りアクセスでは、ユーザーは「カタログ管理」タイルにアクセスして、利用可能なサービスを表示することができます。書き込みアクセスでは、ユーザーは[「カタログ管理」](#oc_catalog)タイルにアクセスして、サービスの表示、サービスの表示可能性の編集、カスタム・サービスの登録、およびビルドパック優先順位リストの制御を行うことができます。 |  
| Reports | **Reports** 許可を持つユーザーには、セキュリティー・レポートを **Read** または **Write** (modify) するアクセス権限を割り当てることができます。「読み取り」のアクセス権限により、ユーザーは「レポートおよびログ」タイルにアクセスして、レポートをダウンロードできます。書き込みアクセスでは、ユーザーは[「レポートおよびログ」](#oc_report)タイルを表示できる他に、CLI を使用して、新規レポートのアップロードおよびユーザーがアクセスする新規カテゴリーの作成も行えます。 |
| Users | **Users** 許可を持つユーザーには、ユーザーのリストを **Read** (表示) する権限、およびユーザーを **Write** (追加または削除) する権限を割り当てることができます。この許可では、他のユーザーの許可を設定することはできません。書き込みアクセスでは、ユーザーは環境への新規ユーザーの追加、環境からのユーザーの削除、および環境内にすでに存在する組織への既存のユーザーの追加を行うことができます。さらに、**Write** アクセスでは、ユーザーは新規組織の追加、組織の削除、および組織内のユーザーの編集を行うことができます。 |
{: caption="表 14. 許可" caption-side="top"}

## REST API の使用 
{: #auth_adminapi}

REST API コマンドを使用するには、まず認証が必要です。セッションを生成してサポートするために、cURL コマンドで以下のタスクを行えます。

* [管理コンソールへのログイン](#auth_loginapi) 
* [ユーザー ID とパスワードの保管](#auth_setuidpw)
* [Cookie の保管](#auth_apistorecook)
* [Cookie の再使用](#auth_apireusecook)

### 管理コンソールへのログイン
{: #auth_loginapi}

`Admin` API 要求を実行する前に、管理コンソールにログインする必要があります。 

管理コンソールにログインするには、`https://console.<region>.bluemix.net/login` エンドポイントで基本アクセス認証を使用できます。サーバーは、セッションで Cookie を返します。その Cookie を、管理コンソールのすべての操作に使用します。

**注:** 数時間使用されない場合、そのセッションは無効になります。

管理コンソールにログインするには、次のコマンドを実行します。

`curl --user <user_id>:<password> -c ./cookies.txt --header "Accept: application/json" https://console.<region>.bluemix.net/login | python -m json.tool`
{: codeblock}

<dl class="parml">
<dt class="pt dlterm">--user <em>user_id</em>:<em>password</em></dt>
<dd class="pd">ユーザー ID とパスワードを受け入れ、Basic 許可ヘッダーを送信します。</dd>
<dt class="pt dlterm">-c <em>filename</em></dt>
<dd class="pd">指定されたユーザー ID とパスワードを、指定されたファイルに Cookie として保管します。</dd>
<dt class="pt dlterm">-b <em>filename</em></dt>
<dd class="pd">指定されたファイルで、指定されたユーザー ID とパスワードを Cookie として取得します。</dd>
<dt class="pt dlterm">--header</dt>
<dd class="pd">Accept ヘッダーを送信します。</dd>
</dl>

このコマンドの出力例を以下に示します。

```
{
    "message": "Logged in",
    "name": {
        "familyName": "*last_name*",
        "givenName": "*first_name*"
    }
}
```
{: screen}

### ユーザー ID とパスワードの保管
{: #auth_setuidpw}

ログイン時に毎回手動で入力する必要がないように、ユーザー ID とパスワードを保管することもできます。ユーザー ID とパスワードを再使用のために保管するには、以下の cURL の例を利用してください。

`curl -X GET -H "Authorization: Basic <redacted>" -H "Accept: application/json" "http://localhost:3000/login"`
{: codeblock}

認証要求のたびに再入力する必要がないようにするために、ログイン情報を別のファイルにセットアップしてそのファイルを呼び出すには、cURL コマンドの `--netrc` オプションを使用します。

cURL で `--netrc` オプションを使用するには、まず、以下のいずれかの方法でユーザーのホーム・ディレクトリーにファイルを作成します。
* UNIX システムでは、.netrc という名前のファイルを作成します。 
* Windows システムでは、_netrc という名前のファイルを作成します。 

このファイルに、以下の情報を入力します。

`machine console.<region>.bluemix.net
login <id>
password <password>`
{: codeblock}

cURL コマンドを呼び出す際に、引数 `--netrc` を追加します。
<p>別のディレクトリーにある netrc ファイルを使用するには、`--netrc-file [file]` オプションを使用します。ここで、`[file]` は netrc ファイルの場所です。</p>
</li>
</ol>


### Cookie の保管
{: #auth_apistorecook}

管理コンソールにログインすると、サーバーは、セッションで Cookie を返します。この Cookie は、管理コンソールでのすべての操作に関するそれ以降の API 呼び出しでログイン・プロセスの一環として必要になります。Cookie は、後で使用するために保管することができます。

ログイン後に Cookie を保管するには、次の CURL の例に示したように `-c` オプションを使用します。

`curl --user <user_id>:<password> -c ./cookies.txt --header "Accept: application/json" https://console.<region>.bluemix.net/login | python -m json.tool`
{: codeblock}

### Cookie の再使用
{: #auth_apireusecook}

Cookie を再使用するには、次の CURL の例に示したように、`-c` オプションで割り当てた Cookie ファイル名を指定した `-b` オプションを使用します。

`curl --user <user_id>:<password> -b ./cookies.txt`
{: codeblock}

## Admin REST API を使用したユーザーの管理

{: #usingadminapi}

`Admin` REST API を使用して、{{site.data.keyword.Bluemix_notm}} インスタンスのユーザーの追加と削除を行うことができます。`Admin` REST API のエンドポイントおよび JSON のリソースは、コマンド・ラインからの基本操作を可能にするために実験に基づいて提供されています。この情報の例に含まれているエンドポイントと URL は、急な通知で変更または廃止される可能性があります。

**Superuser** 許可、または **Write** アクセス権限がある **Users** 許可を持っている場合、ユーザーを追加または削除することができます。他のユーザーの許可を編集するには、**Superuser** 許可を持っている必要があります。

他のツールを使用するという選択肢もありますが、以下のツールはこの後の例を使用するための前提条件です。他のツールも使用してください。
* cURL。REST API 要求をコマンドとして入力するために必要です。cURL は、HTTP 要求をサーバーに送信し、コマンド・ライン・インターフェースを介してサーバー応答を受信するための、無料ユーティリティーです。cURL は [cURL Download サイト ![「外部リンク」アイコン](../icons/launch-glyph.svg)](http://curl.haxx.se/download.html){: new_window} からダウンロードできます。
* Python。Python の pretty-print JSON ツールを使用するために必要です。このオプション・ツールは、JSON テキストを入力として取り、読みやすい出力を提供します。Python は [Python Downloads サイト ![「外部リンク」アイコン](../icons/launch-glyph.svg)](https://www.python.org/downloads){: new_window} からダウンロードできます。


### 組織のリスト表示
{: #listingorg}

ユーザーを追加する場合は、組織を指定する必要があります。`Admin` REST API を使用して、すべての組織をリストすることができます。組織をリストするには、**Read** アクセス権限のある **Users** 許可を持っている必要があります。組織をすべてリストするには、以下のコマンドを実行します。

`curl -b ./cookies.txt https://<your_host>.ibm.com/codi/v1/organizations | python -m json.tool`
{: codeblock}

<dl class="parml">

<dt class="pt dlterm">-b <em>filename</em></dt>
<dd class="pd"><samp class="ph codeph">-c</samp> オプションを使用してあらかじめファイルに保管されていたユーザー ID とパスワードを、Cookie として HTTP サーバーに渡します。</dd>

</dl>

各組織について、結果には次の情報が含まれます。
* `"guid"`、組織の GUID
* `"name"`、組織の名前

このコマンドの出力例を以下に示します。

```
{
     "resources": [
         {
             "guid": "05af098d-d476-4fb0-8b87-a84350e72af3",
             "name": "org-1"
         },
         {
             "guid": "5129a5a8-37c2-4ee4-a9b2-bebae3531db5",
             "name": "org-2"
         },

		 		 ....

		 ],
		 "total_results": 284
}
```
{: screen}

### ユーザーのリスト表示
{: #listingusr}

`Admin` REST API を使用して、登録済みのユーザーをリストすることで、目的のユーザーが既に {{site.data.keyword.Bluemix_notm}} 環境に追加されているかどうかを確認できます。
登録済みのユーザーをリストするには、**Read** アクセス権限のある **Users** 許可を持っている必要があります。ユーザーを全員リストするには、以下のコマンドを実行します。

`curl -b ./cookies.txt https://<your_host>.ibm.com/codi/v1/users | python -m json.tool`
{: codeblock}

<dl class="parml">
<dt class="pt dlterm">-b <em>filename</em></dt>
<dd class="pd"><samp class="ph codeph">-c</samp> オプションを使用してあらかじめファイルに保管されていたユーザー ID とパスワードを、Cookie として HTTP サーバーに渡します。</dd>
</dl>

登録されている各ユーザーについて、結果には次の情報が含まれます。
* `"first_name"` (名) と `"last_name"` (姓)
* `"user_id"`、ユーザー ID と E メール・アドレス
* `"guid"`、組織の GUID。
* `"permissions"`、管理コンソールのユーザーに割り当てられる。

このコマンドの出力例を以下に示します。


```
{
    "next_url": "/codi/v1/users?results_per_page=100&amp;page=2",
    "prev_url": "",
    "resources": [
        {
            "active": true,
            "created_at": "2015-04-08T17:38:51.788Z",
            "created_by": "",
            "first_name": "some first name",
            "guid": "5d5268cf-39c0-48d3-96ae-7afe928e5dd7",
            "last_name": "some last name",
            "permissions": [
                {
                    "display": "ops.admin"
                },
                {
                    "display": "ops.catalog.write"
                },
                {
                    "display": "ops.reports.write"
                },
                {
                    "display": "ops.catalog.read"
                },
                {
                    "display": "ops.users.write"
                },
                {
                    "display": "ops.reports.read"
                },
                {
                    "display": "ops.login"
                },
                {
                    "display": "ops.users.read"
                }
            ],
            "user_id": "someid@us.ibm.com"
        },
		 		 ...


     }
    ],
    "total_pages": 395,
    "total_results": 39421
}

```
{: screen}

### ユーザーの追加

`Admin` REST API を使用して、{{site.data.keyword.Bluemix_notm}} インスタンスにユーザーを追加できます。
ユーザーを追加するための**書き込み**アクセス権限のある**ユーザー**許可、
または管理コンソールの**スーパーユーザー**許可 (ops.admin) が必要です。さらに、Admin として、汎用の管理コンソールの `user` または `superuser` 許可を持たない組織メンバーが、自分の組織のみに新規ユーザーを追加できるようにすることができます。組織管理者に対するこの特定機能のためには、以下の API コマンドを使用します。

```
PUT console.<subdomain>.bluemix.net/codi/env_config/allow_managers?flag=<TRUE or FALSE>
```
{: screen}

追加するユーザーは 1 人だけでもかまわないし、ユーザーのリストを追加することもできます。ユーザーを 1 つの組織に追加することも、複数の組織に追加することもできます。ユーザーを追加するには、以下の情報を指定する必要があります。

* ユーザーのファーストネーム (名) とラストネーム (姓)。「[ユーザーのリスト表示](index.html#listingusr)」にある、`"first_name"` と `"last_name"` を指定します。
* E メール・アドレスとユーザー ID。E メール・アドレスとユーザー ID についてはどちらも、「[ユーザーのリスト表示](index.html#listingusr)」にある `"user_id"` を指定します。
* `"guid"`。「[組織のリスト表示](index.html#listingorg)」にある組織の GUID を指定します。

情報は、JSON ファイルで提供します。

`curl -b ./cookies.txt https://<your_host>.ibm.com/codi/v1/users | python -m json.tool`
{: codeblock}

<dl class="parml">
<dt class="pt dlterm">-b <em>filename</em></dt>
<dd class="pd"><samp class="ph codeph">-c</samp> オプションを使用してあらかじめファイルに保管されていたユーザー ID とパスワードを、Cookie として HTTP サーバーに渡します。</dd>
</dl>

<ol>
<li>適切な JSON 形式で情報を含む JSON ファイルを作成します。<p>例えば、以下の内容を含む、`user.json` という名前のファイルを作成します。
</p>
<pre>
{
    "members": [
        {
            "emails": [
                "some_user_id@domain.com"
            ],
            "first_name": "Some_first_name",
            "last_name": "Some_last_name",
            "user_id": "some_user_id@domain.com"
        }
    ],
    "organization_roles": [
        {
            "id": "7a891f9c-e4e7-46c7-8b4e-dffaa7eb3bcd"
        }
    ]
}
</pre>
</li>
<li>次のコマンドを実行して、JSON ファイルの内容をユーザーのエンドポイントに POST します。<br/><br/>
<code>
curl -v -b ./cookies.txt -X POST -H "Content-Type: application/json" -d @./user.json https://<your_host>.ibm.com/codi/v1/users
</code>
</li>
</ol>

<dl class="parml">
<dt class="pt dlterm">-v </dt>
<dd class="pd">詳細出力を指定します。</dd>
<dt class="pt dlterm">-X POST</dt>
<dd class="pd">デフォルトの GET 要求をオーバーライドして、POST 要求を指定します。</dd>
<dt class="pt dlterm">-H "Content-Type: application/json"</dt>
<dd class="pd">content-type ヘッダーを指定します。この場合、JSON です。</dd>
<dt class="pt dlterm">-d *data*</dt>
<dd class="pd">POST 要求で HTTP サーバーに送信するデータ (この場合、ファイル `user.json`) を指定します。</dd>
</dl>

このコマンドの出力例を以下に示します。


```
* Connected to localhost (127.0.0.1) port 3000 (#0)
 > POST /codi/v1/users HTTP/1.1
 > User-Agent: curl/7.37.1
 > Host: localhost:3000
 > Accept: */*
 > Cookie: opsConsole.sid=s%3AHLcwKGumyEb3IxREmikDOG3ATKD5xYMe.jfjWAa1tJC0rGghpeV8RPHqE2JaFVL4ZFIJbQpSC%2FAI
 > Content-Type: application/json
 > Content-Length: 333
 >
 * upload completely sent off: 333 out of 333 bytes
 < HTTP/1.1 201 Created
 < x-powered-by: Express
 < vary: X-HTTP-Method-Override
 < content-type: application/json
 < date: Wed, 22 Apr 2015 19:32:54 GMT
 < connection: close
 < transfer-encoding: chunked
 < X-Time_Check: Proxy Time: 5612 msec
 ```
{: screen}

### ユーザーの削除

`Admin` REST API を使用して、{{site.data.keyword.Bluemix_notm}} インスタンスからユーザーを削除できます。ユーザーを削除するには、**Write** アクセス権限のある **Users** 許可を持っている必要があります。

ユーザーを削除するには、そのユーザーのユーザー ID を指定する必要があります。次のコマンドを実行します。

`curl -v -b ./cookies.txt -X DELETE https://<your_host>.ibm.com/codi/v1/users?user_id=<some_user_id@domain.com>`
{: codeblock}

<dl class="parml">
<dt class="pt dlterm">-X DELETE</dt>
<dd class="pd">DELETE 要求を指定します。</dd>
</dl>

このコマンドの出力例を以下に示します。


```
 * connect to ::1 port 3000 failed: Connection refused
 *   Trying 127.0.0.1...
 * Connected to localhost (127.0.0.1) port 3000 (#0)
 > DELETE /codi/v1/users?user_id=exampleuser@domain.com HTTP/1.1
 > User-Agent: curl/7.37.1
 > Host: localhost:3000
 > Accept: */*
 > Cookie: opsConsole.sid=s%3AHLcwKGumyEb3IxREmikDOG3ATKD5xYMe.jfjWAa1tJC0rGghpeV8RPHqE2JaFVL4ZFIJbQpSC%2FAI
 >
 < HTTP/1.1 201 Created
 < x-powered-by: Express
 < content-type: application/json
 < date: Wed, 22 Apr 2015 21:01:09 GMT
 < connection: close
 < transfer-encoding: chunked
 < X-Time_Check: Proxy Time: 1922 msec
 <
 ```
{: screen}

## メトリックの API (試験的)
{: #envappmetricsapi}

3 つの試験的 API を使用して、環境またはアプリケーションに関するメトリックを収集できます。これらの API は、指定した期間内に要求したメトリックのデータ・ポイントの配列を返します。

以下のセクションで説明されているメトリック API には、地域固有のエンドポイントからアクセスできます。以下に例を示します。 

`https://console.<region>.bluemix.net/admin/metrics`
{: codeblock}

**注**:

1. ユーザーは、1 時間に最大 200 個の、メトリックの API 要求を行うことができます。
2. 各 API 要求は、要求当たり最大 200 個のデータ・ポイントを返します。それよりも多くのデータがある場合は、次の一連のデータをロードするための URL が応答に提供されます。
3. 各 API 要求で、ユーザーは管理コンソールへの少なくとも Basic Access の許可を持たなければなりません。下記のように、追加の許可が必要な場合もあります。

## 環境に関するメトリックの収集 

試験的環境 API を使用して、指定した期間における高度な環境情報を収集できます。指定した時間内の有効なデータ・ポイントが返されます。データは、ほぼ 1 時間ごとに記録されます。例えば、環境での 6 時間の CPU データを要求すると、要求された 6 時間の 1 時間ごとの CPU データが応答に含まれます。


### 環境エンドポイント 

次のエンドポイントを使用して、この API コマンドを起動できます。  `/api/v1/env`

**注**: これらのエンドポイントにアクセスするには、**Basic Access**、**User Read**、**User Write**、または **Superuser** のいずれかの許可が必要です。

### 環境メトリックの照会パラメーター

次の照会パラメーターを使用して、CPU、ディスク、メモリー、ネットワーク、割り当て量、およびアプリに関するメトリックを収集できます。

<dl class="parml">
<dt class="pt dlterm">metric</dt>
<dd class="pd">`memory`、`disk`、`cpu`、`network`、`quota`、`apps` の 1 つ以上の値をコンマで区切ったもの。</dd>
<dt class="pt dlterm">startTime</dt>
<dd class="pd">データを返す最初の時点。startTime が指定されないと、入手可能な最初のデータ・ポイントが含められます。例えば、2 PM から 5 PM までのデータを収集するには、startTime に 2 PM を指定します。</dd>
<dt class="pt dlterm">endTime</dt>
<dd class="pd">データを返す最後の時点。endTime が指定されないと、最新のデータ・ポイントが使用されます。例えば、2 PM から 5 PM までのデータを収集するには、endTime に 5 PM を指定します。</dd>
<dt class="pt dlterm">sort</dt>
<dd class="pd">データを返す順序。有効な値は、`asc` (昇順) と `desc` (降順) です。デフォルトは降順で、最新のデータを最初に返します。</dd>
</dl>

以下の例は、照会パラメーターを使用して環境についてのメトリックを収集しています。

```
 curl -b ./cookies.txt --header "Accept: application/json" https://console.<region>.bluemix.net/admin/metrics/api/v1/env?metric=cpu,network,disk,apps,memory
 ```
{: codeblock}


### 環境メトリックのデータ・フォーマット

以下のセクションでは、データ・フォーマットについて詳しく説明します。

 * メモリー使用に関するデータ・レコードを収集するには、以下のデータ・フォーマットを使用します。
 
```
{
  "sample_time": 1477494000000,
  "memory": {
    "total": {
      "physical": {
      "total_gb": 1728,
        "used": {
          "value_gb": 673.68,
          "percent": 38.99
        }
      },
    "allocated": {
      "reserved_gb": 3456,
        "total_allocated": {
          "value_gb": 2575.18,
          "percent": 74.51
        }
      },
    },
  	"cell": {
      "physical": {
      "total_gb": 864,
      "used": {
        "value_gb": 336.84,
        "percent": 38.99
      }
    },
    "allocated": {
      "reserved_gb": 1728,
      "total_allocated": {
        "value_gb": 1287.59,
        "percent": 74.51
      }
    },
    },
    "dea": {
      "physical": {
      "total_gb": 864,
      "used": {
        "value_gb": 336.84,
        "percent": 38.99
      }
    },
    "allocated": {
      "reserved_gb": 1728,
      "total_allocated": {
        "value_gb": 1287.59,
        "percent": 74.51
      }
    },
    },
    "memory_by_container": [
      {
        "name": "dea_next/0",
        "type": "dea",
        "ip": "169.53.225.93",
        "percent": "47"
      },
      {
        "name": "dea_next/1",
        "type": "dea",
        "ip": "169.53.225.89",
        "percent": "51"
      },
      {
        "name": "dea_next/2",
        "type": "dea",
        "ip": "169.53.230.49",
        "percent": "45"
      },
      {
        "name": "dea_next/3",
        "type": "dea",
        "ip": "169.44.109.231",
        "percent": "43"
      }
    ]
  }
}
```
{: screen}

 * ディスク使用に関するデータ・レコードを収集するには、以下のデータ・フォーマットを使用します。
 
```
{
  "sample_time": 1477494000000,
  "disk": {
    "total": {
      "physical": {
      "total_gb": 16200,
        "used": {
          "value_gb": 1614,
          "percent": 9.96
        }
      },
    "allocated": {
      "reserved_gb": 32400,
        "total_allocated": {
          "value_gb": 3979,
          "percent": 12.28
        }
      },
    },
    "cell": {
      "physical": {
      "total_gb": 8100,
      "used": {
        "value_gb": 807,
        "percent": 9.96
      }
    },
    "allocated": {
      "reserved_gb": 16200,
      "total_allocated": {
        "value_gb": 1989.5,
        "percent": 12.28
      }
    },
    },
    "dea": {
      "physical": {
      "total_gb": 8100,
      "used": {
        "value_gb": 807,
        "percent": 9.96
      }
    },
    "allocated": {
      "reserved_gb": 16200,
      "total_allocated": {
        "value_gb": 1989.5,
        "percent": 12.28
      }
    },
    },
    "disk_by_container": [
      {
        "name": "dea_next/0",
        "type": "dea",
        "ip": "169.53.225.93",
        "percent": "13"
      },
      {
        "name": "dea_next/1",
        "type": "dea",
        "ip": "169.53.225.89",
        "percent": "14"
      },
      {
        "name": "dea_next/2",
        "type": "dea",
        "ip": "169.53.230.49",
        "percent": "13"
      },
      {
        "name": "dea_next/3",
        "type": "dea",
        "ip": "169.44.109.231",
        "percent": "12"
      }
    ]
  }
}
```
{: screen}

 * CPU 使用に関するデータ・レコードを収集するには、以下のデータ・フォーマットを使用します。
 
```
{
  "sample_time": 1477494000000,
  "cpu": {
    "total": {
      "average_percent_cpu_used": 14.725
    },
    "cell": {
      "average_percent_cpu_used": 19
    },
    "dea": {
      "average_percent_cpu_used": 10.45
    },
    "cpu_by_container": [
      {
        "name": "dea_next/0",
        "type": "dea",
        "ip": "169.53.225.93",
        "sys_percent": "8.4",
        "user_percent": "2.7",
        "wait_percent": "0.0"
      },
      {
        "name": "dea_next/1",
        "type": "dea",
        "ip": "169.53.225.89",
        "sys_percent": "7.4",
        "user_percent": "2.4",
        "wait_percent": "0.0"
      },
      {
        "name": "cell/1",
        "type": "cell",
        "ip": "169.53.230.49",
        "sys_percent": "5.3",
        "user_percent": "1.9",
        "wait_percent": "0.0"
      },
      {
        "name": "cell/2",
        "type": "cell",
        "ip": "169.44.109.231",
        "sys_percent": "8.2",
        "user_percent": "22.6",
        "wait_percent": "0.0"
      }
    ]
  }
}
```
{: screen}

 * ネットワークに関するデータ・レコードを収集するには、以下のデータ・フォーマットを使用します。
 
```
{
  "sample_time": 1477494000000,
  "network": {
    "datapower": {
    "response_times": [
      {
        "proxy": "custom_certificates",
        "ten_seconds_ms": "0",
        "one_minute_ms": "0",
        "ten_minutes_ms": "0",
        "one_hour_ms": "0",
        "one_day_ms": "0"
      },
      {
        "proxy": "bluemix",
        "ten_seconds_ms": "90",
        "one_minute_ms": "89",
        "ten_minutes_ms": "83",
        "one_hour_ms": "85",
        "one_day_ms": "95"
      }
      ],
        "transactions": [
      {
        "proxy": "custom_domains",
        "ten_seconds_ms": "0",
        "one_minute_ms": "0",
        "ten_minutes_ms": "0",
        "one_hour_ms": "0",
        "one_day_ms": "0"
      },
      {
        "proxy": "bluemix",
        "ten_seconds_ms": "697",
        "one_minute_ms": "747",
        "ten_minutes_ms": "802",
        "one_hour_ms": "794",
        "one_day_ms": "730"
      }
      ],
        "bandwidth": {
        "in_kbps": 10855,
        "out_kbps": 38090
      }
  }
}
```
{: screen}

* 割り当て量使用に関するデータ・レコードを収集するには、以下のデータ・フォーマットを使用します。
 
```
{
  "sample_time": 1477494000000,
  "quota": {
    "reserved_memory": {
      "total_bytes": 33176474877952
    },
    "services": {
      "total": 111650
    },
    "routes": {
      "total": 1675000
    }
  }
}
```
{: screen}

* アプリケーションに関するデータ・レコードを収集するには、以下のデータ・フォーマットを使用します。
 
```
{
  "sample_time": 1477494000000,
  "apps": {
    "count": 1406,
    "allocation": {
      "memory_gb": 571.8,
      "disk_gb": 1204
    }
  }
}
```
{: screen}

### 環境メトリックの応答フォーマット

```
{
   docs: [],
   next_url:
}
```
{: screen}

## 組織に関するメトリックの収集

すべての組織について、ほぼ 1 時間ごとにデータが記録されます。特定メトリックの要求では、指定した期間内の各データ・サンプル内のすべての組織の情報が、要求されたメトリックで降順にソートされて返されます。例えば、200 個のアプリがある環境で、6 時間のメモリー使用に関してすべての組織について要求すると、一度に 200 件ずつ、1200 件のレコードが返されます。

要求された期間に各データ・サンプルについて返される情報量を削減するには、count オプションを指定します。
前の例で count オプションを 5 に指定して追加すると、各データ・サンプルについて、メモリー使用で上位 5 つの組織を表す 30 件のレコードが返されます。

### 組織のエンドポイント 

以下のエンドポイントを使用して、この API コマンドを起動できます。
* `/api/v1/org/memory/physical`
* `/api/v1/org/memory/reserved`
* `/api/v1/org/disk/physical`
* `/api/v1/org/disk/reserved`

**注**: これらのエンドポイントにアクセスするには、**User Read**、**User Write**、または **Superuser** のいずれかの許可が必要です。

### 組織の照会パラメーター
 
以下の照会パラメーターを使用して、組織のメトリックを収集します。

<dl class="parml">
<dt class="pt dlterm">startTime</dt>
<dd class="pd">データを返す最初の時点。startTime が指定されないと、入手可能な最初のデータ・ポイントが含められます。例えば、2 PM から 5 PM までのデータを収集するには、startTime に 2 PM を指定します。</dd>
<dt class="pt dlterm">endTime</dt>
<dd class="pd">データを返す最後の時点。endTime が指定されないと、最新のデータ・ポイントが使用されます。例えば、2 PM から 5 PM までのデータを収集するには、endTime に 5 PM を指定します。</dd>
<dt class="pt dlterm">count</dt>
<dd class="pd">各データ・サンプルで返すレコード数。
</dd>
<dt class="pt dlterm">minValue</dt>
<dd class="pd">指定されたメトリックについて返す処理が行われる最小値。minValue が指定されていない場合、すべての値が返されます。例えば、最小限 20000 バイトの物理メモリーを使用している組織を収集するには、minValue に 20000 を指定します。
</dd>
</dl>

以下の例は、組織についてのメトリックを収集します。

```
curl -b ./cookies.txt --header "Accept: application/json" https://console.<region>.bluemix.net/admin/metrics/api/v1/org/memory/physical?count=5&startTime=2016-12-02T16:54:09.467Z
```
{: codeblock}

### 組織の応答フォーマット

```
{
   docs: [],
   next_url:
}
```
{: screen}

返される各文書は、要求時点における各データ・サンプル内の組織の要求されたメトリックを表します。

## アプリケーションに関するメトリックの収集

すべてのアプリケーションについて、ほぼ 1 時間ごとにデータが記録されます。特定メトリックの要求では、指定した期間内の各データ・サンプル内のすべてのアプリの情報が、要求されたメトリックで降順にソートされて返されます。例えば、200 個のアプリがある環境で、6 時間の CPU 使用に関してすべてのアプリについて要求すると、一度の 200 件ずつ、1200 件のレコードが返されます。

要求された期間に各データ・サンプルについて返される情報量を削減するには、count オプションを指定します。
前の例で count オプションを 5 に指定して追加すると、各データ・サンプルについて、CPU 使用で上位 5 個のアプリケーションを表す 30 件のレコードが返されます。

### アプリケーションのエンドポイント 

以下のエンドポイントを使用して、この API コマンドを起動できます。
* `/api/v1/app/cpu/physical` 
* `/api/v1/app/memory/physical`
* `/api/v1/app/memory/reserved`
* `/api/v1/app/disk/physical`
* `/api/v1/app/disk/reserved`

**注**: これらのエンドポイントにアクセスするには、**User Read**、**User Write**、または **Superuser** のいずれかの許可が必要です。

### アプリケーションの照会パラメーター
 
以下の照会パラメーターを使用して、アプリケーションのメトリックを収集します。

<dl class="parml">
<dt class="pt dlterm">startTime</dt>
<dd class="pd">データを返す最初の時点。startTime が指定されないと、入手可能な最初のデータ・ポイントが含められます。例えば、2 PM から 5 PM までのデータを収集するには、startTime に 2 PM を指定します。</dd>
<dt class="pt dlterm">endTime</dt>
<dd class="pd">データを返す最後の時点。endTime が指定されないと、最新のデータ・ポイントが使用されます。例えば、2 PM から 5 PM までのデータを収集するには、endTime に 5 PM を指定します。</dd>
<dt class="pt dlterm">count</dt>
<dd class="pd">各データ・サンプルで返すレコード数。
</dd>
<dt class="pt dlterm">minValue</dt>
<dd class="pd">指定されたメトリックについて返す処理が行われる最小値。minValue が指定されていない場合、すべての値が返されます。例えば、最小限 20000 バイトの物理メモリーを使用しているアプリケーションを収集するには、minValue に 20000 を指定します。
</dd>
</dl>

以下の例は、アプリケーションについてのメトリックを収集します。

```
curl -b ./cookies.txt --header "Accept: application/json" https://console.<region>.bluemix.net/admin/metrics/api/v1/app/cpu/physical?count=5&startTime=2016-12-02T16:54:09.467Z
```
{: codeblock}


### アプリケーションの応答フォーマット

```
{
   docs: [],
   next_url:
}
```
{: screen}

返される各文書は、要求時点における各データ・サンプル内のアプリケーションの要求されたメトリックを表します。


## カスタム・サービス API
{: #servicebrokerapi}

サービスの登録または作成、サービスの更新、およびサービスの削除に使用できる 3 つの API があります。

すべての API は、<code>https://console.&lt;subdomain&gt;.bluemix.net/</code> に対して相対的になります。

<dl>
<dt><strong>&lt;subdomain&gt;</strong></dt>
<dd>この値は、ローカル・インスタンスまたは専用インスタンスの名前です。{{site.data.keyword.Bluemix}} インスタンスのサブドメイン名はオンボード時に割り当てられています。</dd>
</dl>

## 新規サービスの登録

新規サービスを登録するには、以下の API とコード・サンプルを使用してください。

### 経路
{: #registerroute}

```
POST /codi/v1/serviceBrokers
```
{: screen}

### 要求
{: #registerrequest}

{: #ld_table15}

| **名前** | **説明** |
|-----------------|-------------------|
| name | サービス・ブローカーの名前。  |
| auth_username | サービス・ブローカーとの接続に使用されるユーザー名。 |
| auth_password | サービス・ブローカーとの接続に使用されるパスワード。 |
| broker_url | サービス・ブローカーとの接続に使用される URL。 |
| owningOrganization | サービスをホワイトリスト登録する初期組織。 |
{: caption="表 15. フィールド" caption-side="top"}

#### 本文
{: #registerbody}

```
{
  "name" : "Service broker's name",
  "auth_username" : "username",
  "auth_password" : "password",
  "broker_url" : "https://broker.comp.com",
  "owningOrganization" : "ORG"
}
```
{: screen}

#### ヘッダー
{: #registerheaders}

```
Authorization: bearer eyJ0eXAiOiJKV1QiLCJhbG ... ciOiJIUzI1
Host: console.comp.bluemix.net
Content-Type: application/json
```
{: screen}

### 応答
{: #registerresponse}

#### 状況
{: #registerstatus}

```
201 Created
```
{: screen}

#### 本文
{: #registerbody2}

```
{
    "_id": "2063580064-0ca80769-8e9e-4e1c-9b99-68bdcf1a2c68",
    "name": "Service broker's name",
    "broker_url": "https://provision-broker.comp.bluemix.net/bmx/provisioning/brokers/2063580064-8f23230c-7f36-4ce5-a298-2ab4108f1120",
    "proxy_broker_url": "https://provision-broker.dys0.bluemix.net/bmx/provisioning/brokers/2063580064-0ca80769-8e9e-4e1c-9b99-68bdcf1a2c68",
    "auth_username": "username",
    "created_on": "2016-09-30T16:45:56.304Z"
}

```
{: screen}

## サービスの更新

サービスを更新するには、以下の API とコード・サンプルを使用してください。

### 経路
{: #updateroute}

`PUT /codi/v1/serviceBrokers`
{: screen}

### 要求
{: #updaterequest}

{: #ld_table16}

| **名前** | **説明** |
|-----------------|-------------------|
| name | サービス・ブローカーの名前。 この名前は、サービスを作成するために使用した名前から変更できません。 |
| auth_username | サービス・ブローカーとの接続に使用されるユーザー名。 |
| auth_password | サービス・ブローカーとの接続に使用されるパスワード。 |
| broker_url | サービス・ブローカーとの接続に使用される URL。 |
| owningOrganization | サービスをホワイトリスト登録する初期組織。 |
{: caption="表 16. 要求" caption-side="top"}

#### 本文
{: #updatebody}

```
{
  "name" : "Service Broker's name",
  "auth_username" : "username",
  "auth_password" : "newPassword",
  "broker_url" : "https://broker.comp.com",
  "owningOrganization" : "ORG"
}
```
{: screen}

#### ヘッダー
{: #updateheaders}

```
Authorization: bearer eyJ0eXAiOiJKV1QiLCJhbG ... ciOiJIUzI1
Host: console.comp.bluemix.net
Content-Type: application/json
```
{: screen}

### 応答
{: #updateresponse}

#### 状況
{: #updatestatus}

```
201 Created
```
{: screen}

#### 本文
{: #updatebody2}

```
{
    "_id": "2063580064-0ca80769-8e9e-4e1c-9b99-68bdcf1a2c68",
    "name": "Service Broker's name",
    "broker_url": "https://provision-broker.dys0.bluemix.net/bmx/provisioning/brokers/2063580064-d11bdd84-7556-469f-858d-2098b531f7f2",
    "proxy_broker_url": "https://provision-broker.dys0.bluemix.net/bmx/provisioning/brokers/2063580064-0ca80769-8e9e-4e1c-9b99-68bdcf1a2c68",
    "auth_username": "username",
    "created_on": "2016-09-30T16:45:56.304Z"
}
```
{: screen}

## サービスの削除

サービスを削除するには、以下の API とコード・サンプルを使用してください。


{: #ld_table17}

| **名前** | **説明** |
|-----------------|-------------------|
| name | サービス・ブローカーの名前。 この名前は、サービスを作成するために使用した名前から変更できません。 |
{: caption="表 17. パラメーター" caption-side="top"}

### 経路

```
DELETE /codi/v1/serviceBrokers?name=name of service broker
```
{: screen}

### 要求
{: #deleterequest}

#### ヘッダー
{: #deleteheaders}

```
Authorization: bearer eyJ0eXAiOiJKV1QiLCJhbG ... ciOiJIUzI1
Host: console.comp.bluemix.net
Content-Type: application/json
```
{: screen}

### 応答
{: #deleteresponse}

#### 状況
{: #deletestatus}

```
204 No Content
```
{: screen}

### CF CLI を使用したユーザーの管理
{: #usingadmincli}

Cloud Foundry コマンド・ライン・インターフェースと {{site.data.keyword.Bluemix_notm}} 管理 CLI プラグインを使用することで、{{site.data.keyword.Bluemix_notm}} 環境のユーザーを管理できます。Cloud Foundry CLI 用のこのプラグインをダウンロードする必要があります。

最初に、CF コマンド・ライン・インターフェースをインストールします。{{site.data.keyword.Bluemix_notm}} 管理 CLI プラグインを使用する場合、CF バージョン 6.11.2 以降が必要です。[Cloud Foundry コマンド・ライン・インターフェースのダウンロード ![「外部リンク」アイコン](../icons/launch-glyph.svg)](https://github.com/cloudfoundry/cli/releases){: new_window} を実行します。

**制限:** Cloud Foundry コマンド・ライン・インターフェースは、Cygwin ではサポートされていません。Cloud Foundry コマンド・ライン・インターフェースは Cygwin コマンド・ライン・ウィンドウ以外のコマンド・ライン・ウィンドウで使用してください。

#### {{site.data.keyword.Bluemix_notm}} 管理 CLI プラグインの追加

CF コマンド・ライン・インターフェースをインストール後、{{site.data.keyword.Bluemix_notm}} 管理 CLI プラグインを追加できます。

**注**: 既に {{site.data.keyword.Bluemix_notm}} 管理プラグインをインストール済みの場合、プラグインをアンインストールし、リポジトリーを削除してから、再インストールして最新の更新を取得することが必要になる場合があります。

以下のステップを実行して、リポジトリーを追加し、プラグインをインストールします。

<ol>
<li>{{site.data.keyword.Bluemix_notm}} 管理プラグイン・リポジトリーを追加するには、以下のコマンドを実行します。
<br/><br/>
<code>
cf add-plugin-repo BluemixAdmin https://console.&lt;subdomain&gt;.bluemix.net/cli
</code><br/><br/>
<dl class="parml">
<dt class="pt dlterm">&lt;subdomain&gt;</dt>
<dd class="pd">ご使用の {{site.data.keyword.Bluemix_notm}} インスタンス用 URL のサブドメインです。</dd>
</dl>
</li>
<li>{{site.data.keyword.Bluemix_notm}} 管理
CLI プラグインをインストールするには、以下のコマンドを実行します。<br/><br/>
<code>
cf install-plugin bluemix-admin-cli -r BluemixAdmin
</code>
</li>
</ol>

インストールしたプラグインから使用可能なサブコマンドのリストを表示するには、次のコマンドを実行します。

```
cf plugins
```
{: codeblock}

{{site.data.keyword.Bluemix_notm}} 管理プラグインに使用可能なコマンド・グループのリストを表示するには、次のコマンドを実行します。

```
cf ba
```
{: codeblock}

追加でコマンドのヘルプを表示するには、`-help` オプションを使用します。

{{site.data.keyword.Bluemix_notm}} 管理 CLI プラグインを使用した作業方法について詳しくは、『[{{site.data.keyword.Bluemix_notm}} 管理](../cli/plugins/bluemix_admin/index.html)』を参照してください。
