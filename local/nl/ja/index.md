{:new_window: target="_blank"}
{:shortdesc: .shortdesc}

#{{site.data.keyword.Bluemix_notm}} Local
{: #local}
*最終更新日: 2016 年 1 月 15 日*

ユーザーのデータ・センターは、{{site.data.keyword.Bluemix}} Local を使用することにより、{{site.data.keyword.Bluemix_notm}} クラウド・ベースのプラットフォームが持つ能力と俊敏性を得ることができます。{{site.data.keyword.Bluemix_notm}} Local を使用すれば、{{site.data.keyword.Bluemix_notm}} Public にセキュアに接続して同期をとり続けながら、同時に、自社のファイアウォールの内側にある最高機密のワークロードを保護することができます。
{:shortdesc}

IBM® はクラウド操作をサービスとして使用してお客様の環境のモニターと保守を行います。そのため、お客様は、自分の環境上で稼動するアプリやサービスのビルドに注力できます。また、IBM はプラットフォームの更新にも対応するので、お客様はビジネスに専念できます。

{{site.data.keyword.Bluemix_notm}} Local には、自分だけが使用できるローカル・サービスを表示する、プライベートのシンジケートされたカタログが含まれています。また、{{site.data.keyword.Bluemix_notm}} Public からシンジケートおよび使用できる追加サービスも含まれています。シンジケートされたカタログは、パブリック・サービスとプライベート・サービスから成るハイブリッド・アプリケーションを作成する機能を提供します。データ・プライバシーとセキュリティー基準に基づいて、ビジネスの要件に合致したパブリック・サービスを決定できます。

{{site.data.keyword.Bluemix_notm}} Local はお客様の自社ファイアウォールの内側にある仮想マシン上に存在するので、お客様は、最高の処理性能を持つ、最もセキュアなクラウド・インフラストラクチャーが使用できるようになります。IBM は、IBM のリレー・テクノロジーを使用して、お客様のデータ・センターに対して {{site.data.keyword.Bluemix_notm}} Local のインストール、リモート・モニター、および管理を行います。

![{{site.data.keyword.Bluemix_notm}} Local 概要](images/bluemixlocalarchitecture.png "Bluemix Local 概要")

*図 1. {{site.data.keyword.Bluemix_notm}} Local の詳細な概要*

{{site.data.keyword.Bluemix_notm}} Local 環境のセキュリティー標準は、運用上のセキュリティーの観点では、パブリックの {{site.data.keyword.Bluemix_notm}} と同じです。お客様はハードウェアとインフラストラクチャーを用意します。これにより、インフラストラクチャーと物理的セキュリティーを制御できるようになります。ローカルの {{site.data.keyword.Bluemix_notm}} に対する開発者のアクセスは、LDAP ポリシーによって制御されます。このポリシーは、環境のセットアップ時に {{site.data.keyword.Bluemix_notm}} チームが構成することができます。ローカル環境内では、管理コンソールを使用すればユーザーの役割と許可を管理できます。

{{site.data.keyword.Bluemix_notm}} Local には、付属しているすべての {{site.data.keyword.Bluemix_notm}} ランタイムおよび 64 GB の計算メモリーが搭載されています。

さらに、{{site.data.keyword.Bluemix_notm}} Local で使用可能なサービスが一式揃っています。

| **タイプ ** | **名前** | **説明** |    
|----------|----------|-----------------|
|組み込み | {{site.data.keyword.Bluemix_notm}} ランタイム | ランタイムはアプリを素早く立ち上げて実行するために使用します。VM とオペレーティング・システムのセットアップと管理は不要です。すべての {{site.data.keyword.Bluemix_notm}} ランタイムが、{{site.data.keyword.Bluemix_notm}} Local インスタンスで使用可能です。|
|組み込み | {{site.data.keyword.autoscaling}}| ポリシーに基づいて、アプリケーションの計算能力を動的に増減します。このサービスを使用することで、{{site.data.keyword.Bluemix}} Local 環境で使用量が無制限になります。|
|オプション |{{site.data.keyword.datacshort}}| このサービスは、アプリで分散キャッシュ・シナリオをサポートするメモリー内データ・グリッドを提供します。50 GB のメモリー内キャッシュが含まれます。 |
|オプション | {{site.data.keyword.APIM}} | {{site.data.keyword.APIMfull}} サービスを使用して、API を構成、管理、およびソーシャル化します。API は、プロキシー URL を使用するか、HTTP データ・ソースからデータをアセンブルすることにより、リソースと一緒にインポートできます。{{site.data.keyword.APIM}} サービスを使用する利点は、API の使用方法を管理できることです。 |

*表 1. Local のサービス*

### リレー

リレーというのは {{site.data.keyword.Bluemix_notm}} Local に同梱されている配信機能のことで、これにより、IBM は、最新の更新をすべてのローカル・デプロイメントに自動的かつ一貫して配信することが可能になるため、お客様は、最新でセキュアなシステムを維持することができます。リレーは、各 {{site.data.keyword.Bluemix_notm}} Local インスタンスに固有な証明書を使用し、オンプレミスの開始仮想マシンを起点とするオープンなアウトバウンド SSL VPN トンネルを介してセキュアな接続を達成します。すべての初期 {{site.data.keyword.Bluemix_notm}} リリースは、デプロイメントおよび更新のために自動化エージェント・マシンとしても機能する開始仮想マシンで使用可能です。SSL 接続は開始仮想マシンを起点とし、{{site.data.keyword.Bluemix_notm}} 自動化サーバーへのセキュア接続が再び確立されると、{{site.data.keyword.Bluemix_notm}} リリースの最新性と一貫性を検査し、更新のデプロイを開始できます。

このトンネルのトラフィックは、プラットフォーム、計算リソース、およびユーザー・インスタンス向けのサービスを提供し保守するため、オートメーションになっています。この接続には、インバウンド Web ポート 443 が使用されます。リレーは、自動化エージェントのみのアクセスに制限されます。IBM はリレー機能を使用して、一貫したテストおよび検証プロセスを介してプラットフォーム更新を提供します。これにより、ローカル環境にプッシュされるすべてのデプロイメントが確実に安定してセキュアになります。

管理者としてインシデント、問題、変更、容量、およびセキュリティー管理について環境を完全に可視化できます。管理者は管理コンソールを使用して、環境に関する情報にアクセスします。リレー・テクノロジーにより、管理コンソールに最新データが表示され続けます。ユーザー・アクセス、セキュリティー・ログ、シンジケートされたカタログ
・コントロール、および更新と問題修復の通信について詳しくは、『[{{site.data.keyword.Bluemix_notm}} Local および {{site.data.keyword.Bluemix_notm}} Dedicated の管理](../admin/index.html#mng)』を参照してください。

##{{site.data.keyword.Bluemix_notm}} Local インスタンスのセットアップ
{: #setuplocal}

{{site.data.keyword.Bluemix_notm}} Local は、お客様が管理するお客様自身のハードウェアでホストされる、{{site.data.keyword.Bluemix_notm}} Public オファリングの専用バージョンを提供するよう設計されています。{{site.data.keyword.Bluemix_notm}} のサービスとランタイムを使用すれば、お客様がホストし管理しているセキュアなクラウド環境でコンピューティング・ニーズをサポートすることができます。

IBM は、お客様がパスワードで保護されたログインを使用して {{site.data.keyword.Bluemix_notm}} Local にアクセスできるようにします。サービス、ランタイム、および関連リソースにアクセスしたり、{{site.data.keyword.Bluemix_notm}} アプリをデプロイおよび削除したりすることができます。{{site.data.keyword.Bluemix_notm}} のローカル・インスタンスをセットアップするため IBM 担当員と連携するには、以下のステップを検討してください。

{{site.data.keyword.Bluemix_notm}} の専用バージョンをセットアップするには、以下のようにします。

<ol>
<li>ローカル・インスタンスをセットアップするための『<a href="index.html#localinfra">{{site.data.keyword.Bluemix_notm}} Local のインフラストラクチャー要件</a>』を検討します。</li>
<li>IBM 指定のアカウント担当者に連絡するか、<a href="https://console.ng.bluemix.net/?direct=classic/#/contactUs/cloudOEPaneId=contactUs" target="_blank">{{site.data.keyword.Bluemix_notm}}</a>に連絡して、開始します。</li>
<li>IBM と、納品日のマイルストーンが含まれている {{site.data.keyword.Bluemix_notm}} Local 契約を結びます。
	<ol type="a">
	<li>{{site.data.keyword.Bluemix_notm}} Local インスタンスの料金について IBM と連携して決定します。毎月繰り返し発生する料金は、使用するローカル・サービスと、すべての {{site.data.keyword.Bluemix_notm}} Public サービスのサブスクリプションに基づきます。さらに、当該サブスクリプション契約を超えて使用したサービスに対する請求書を受け取ります。</li>
	<li>{{site.data.keyword.Bluemix_notm}} Local インスタンスをセットアップする各フェーズの期限を特定します。</li>
	</ol>
	</li>
<li>プラットフォームとアカウントを作成したら、その後、ローカル・インスタンスを立ち上げて実行するために必要な役割を担う個人を組織内で特定します。割り当てる役割について詳しくは、『<a href="index.html#rolesresponsibilities" target="_blank">{{site.data.keyword.Bluemix_notm}} Local 役割および責任</a>』を参照してください。
</li>
<li>お客様はハードウェアを用意し、IBM は、お客様が自社のネットワークと {{site.data.keyword.Bluemix_notm}} Local インスタンスの間のネットワーク接続を定義し確立するのを支援します。インフラストラクチャーの要件について詳しくは、『<a href="index.html#localinfra">{{site.data.keyword.Bluemix_notm}} Local のインフラストラクチャー要件</a>』を参照してください。
	<ol type="a">
	<li>IBM が、お客様が用意した構成に基づいて、ネットワーク・アクセスおよび LDAP を構成します。お客様が指定した連絡先に、管理アクセス権限が付与されます。サポートおよび請求用の連絡先を指定する必要もあります。</li>
	<li>IBM が、お客様のローカル環境でシンジケートされたカタログをセットアップし、お客様のローカル・サービス、およびパブリックの {{site.data.keyword.Bluemix_notm}} サービスの多くが表示されるようにします。</li>
	<li>お客様が、ネットワークとファイアウォールの構成、および LDAP エンドポイントとアクセスを確認します。</li>
	</ol>
</li>
</ol>

ご使用の環境に合わせた初期デプロイメントおよび構成は、以下にリストするプロセスのようになると考えられます。各タスクを誰が担当するかについて詳しくは、『[役割および責任](../local/index.html#rolesresponsibilities)』を参照してください。

<ol>
<li>計算リソース、ネットワーキング、およびストレージの仕様を満たす VMware 構成を指定します。インフラストラクチャーの要件について詳しくは、『<a href="../local/index.html#localinfra">{{site.data.keyword.Bluemix_notm}} Local のインフラストラクチャー要件</a>』を参照してください。</li>
<li>インセプション仮想マシンによって使用される、vCenter クラスターの資格情報を指定します。以下の情報を指定する必要があります。
<ul>
<li>VMware クラスターの名前</li>
<li>ユーザー ID およびパスワードを含む、vCenter クラスターの資格情報</li>
<li>データ・ストア名 (ストレージ LUN 名)</li>
<li>VLAN ID/VMware ポート・グループ</li>
<li>リソース・プール名</li>
</ul>
</li>
<li>ユーザーと IBM は連携して、前のタスクでユーザーが指定した資格情報の検証を行います。</li>
<li>ユーザーは、ネットワーク上の 7 つの IP アドレスを提供します。内部の {{site.data.keyword.Bluemix_notm}} コンポーネント用にインターネットへのアウトバウンド・アクセスを可能にするための、保護された Web プロキシーがある場合は、それに接続するための資格情報を提供する必要があります。
<p>**注**: Web プロキシーがセキュアでない場合は、資格情報を提供する必要はありません。また、すべての {{site.data.keyword.Bluemix_notm}} Local のお客様が Web プロキシーを使用するわけではないことに注意してください。</p></li>
<li>IBM は、デプロイメントを開始する前に、ユーザーの Web プロキシーを経由することを許可する必要がある URL のホワイトリストを提供します。</li>
<li>ユーザーは、デプロイメント用のドメイン・ネームと、使用する ID を指定します。ローカル・インスタンスをセットアップする時に、部分的に定義された 2 つのドメインが提供されます。ユーザーは、それら 2 つのドメインの接頭部を選択します。例えば、<code>*mycompany*.bluemix.net</code> と <code>*mycompany*.mybluemix.net</code> の接頭部を選択します。また、フル・ドメインを選択してカスタム・ドメインを作成することもできます。
<p>カスタム・ドメインは必要な数だけ選択できます。ただし、それらのカスタム・ドメインの証明書はユーザーの責任になります。カスタム・ドメインの作成について詳しくは、『<a href="../manageapps/updapps.html#domain">カスタム・ドメインの作成と使用</a>』を参照してください。</p></li>
<li>ユーザーは、IBM 運用センターに再接続するようリレーを構成するために、IPSec トンネルまたは OpenVPN トンネルのいずれのテクノロジーを使用するか選択します。</li>
<li>IBM は、{{site.data.keyword.Bluemix_notm}} クラスター内にインセプション仮想マシンをインストールし、始動します。ユーザーが独自の VMware を提供する場合、IBM 担当員は、ユーザーの顧客担当者がこのタスクを完了するのを支援します。</li>
<li>IBM は、IBM 運用センターと再通信するようにリレーを構成します。</li>
<li>インセプション仮想マシン・リポジトリーは、更新されたビルド成果物を取り込みます。</li>
<li>ユーザーは、IBM が企業の LDAP ディレクトリー・インスタンスに接続するための資格情報を提供します。</li>
<li>IBM は、自動化を使用してコア {{site.data.keyword.Bluemix_notm}} プラットフォームをデプロイします。</li>
<li>IBM は、Elastic Runtime、コンソール、管理フィーチャー、およびモニタリングを含むコア・プラットフォームをデプロイします。</li>
<li>IBM は、環境へのユーザーの管理アクセスを構成します。</li>
<li>IBM は、シンジケートされたカタログを、パブリック・サービスの使用のために、ローカル・デプロイメントから Public {{site.data.keyword.Bluemix_notm}} インスタンスにリンクします。パブリック・サービスのセットは、デフォルトで、ローカル・インスタンスで使用可能です。カタログ管理用の管理ページを使用すると、ローカル・インスタンスでのサービスをオンにしたりオフにしたりできます。</li>
<li>アラートに応答するために、IBM 運用チームによってモニターされているローカル・インスタンスの使用を開始できます。</li>
</ol>

{{site.data.keyword.Bluemix_notm}} インスタンスがセットアップされた後は、「管理」ページを使用して {{site.data.keyword.Bluemix_notm}} インスタンスをモニターおよび管理することができます。詳細情報については、『[{{site.data.keyword.Bluemix_notm}} Local および Dedicated の管理](../administer/index.html#mng)』を参照してください。アップグレードおよび保守については、『[ローカル・インスタンスの保守](index.html#maintainlocal)』を参照してください。

##役割および責任
{: #rolesresponsibilities}

{{site.data.keyword.Bluemix_notm}} Local アカウントをセットアップした場合、インスタンスを稼働するために必要な役割の組織内のユーザーを特定します。

###役割

以下のリストでは、割り当てる顧客の役割および責任を示します。

<dl>
<dt>**調達フォーカル**</dt>
<dd>IBM 担当員と連携して、{{site.data.keyword.Bluemix_notm}} Local 環境を設定します。これには、プロジェクトのあらゆる側面について作業するのに適切な、組織内のユーザーを特定することが含まれます。この役割に割り当てられたユーザーは、パターン選択、商業協定およびお客様のリソースへのアクセスの取り決めを監視します。調達フォーカルは、ローカル・インスタンスをセットアップする際の総合的連絡先になります。</dd>
<dt>**コンプライアンス責任者**</dt>
<dd>IBM 担当員と連携して、お客様のセキュリティー要件に合ったトポロジーとデプロイメントのオプションを選択します。この役割に割り当てられたユーザーは IBM コンプライアンス・コンサルタントと連携して、コンプライアンスの目標を達成するデプロイメント・パターンを決めます。</dd>
<dt>**ネットワーク専門家**</dt>
<dd>IBM 担当員と連携して、{{site.data.keyword.Bluemix_notm}} デプロイメントのネットワーク計画を決定します。この役割に割り当てられたユーザーは、IBM によって要求された必要なネットワーキング仕様をレビューし、実装計画について IBM と連携します。インストールと検証の段階が終わると、この役割に割り当てられたユーザーは、ネットワーク構成が企業標準に準拠していることを承認します。</dd>
<dt>**DevOps フォーカル**</dt>
<dd>IBM 担当員と連携して、{{site.data.keyword.Bluemix_notm}} のプラットフォーム、サービス、およびランタイムに必要な保守更新を計画して適用します。また、この役割に割り当てられたユーザーは IBM 担当員と連携して、{{site.data.keyword.Bluemix_notm}} Local インスタンスの構成も行います。</dd>
<dt>**IaaS 専門家**</dt>
<dd>VMware のデプロイメント計画について IBM 担当員と連携します。通常、これは、データ・センターの VMware 管理者であるユーザーです。この役割に割り当てられたユーザーは、<a href="../local/index.html#localinfra">{{site.data.keyword.Bluemix_notm}} Local のインフラストラクチャー要件</a>をレビューし、実装計画について IBM と連携します。デプロイメントが終わると、この役割に割り当てられたユーザーは、IaaS レイヤーにおいてデプロイメントが企業標準に準拠していることを承認します。</dd>
</dl>

顧客の担当者は専用 CSM (Client Success Manager) および他の IBM 専門家と連携して、必要なサポートが常に得られるように協力して取り組みます。CSM は、6 カ月の間無料で提供されます。CSM は以下のタスクを実行します。

<ul>
<li>お客様と IBM 間の技術的な調整を行います。</li>
<li>更新、アップグレード、IBM の専門家による支援、および {{site.data.keyword.Bluemix_notm}} サポート・エンジニアからの初期イネーブルメントを調整します。</li>
<li>使用可能なタイプのサポートについて情報を提供します。</li>
<li>必要に応じて、初期エスカレーション・ポイントとして機能します。</li>
</ul>

{{site.data.keyword.Bluemix_notm}} インスタンスについてお客様と連携する {{site.data.keyword.Bluemix_notm}} サポートおよび運用チームは、以下の理由でのみ、お客様のローカル環境にアクセスすることがあります。

<ul>
<li>アラートに対応し、運用上の保守を実行するため</li>
<li>サポート・チケットで報告された問題の再現を試みるため</li>
</ul>

###責任

環境のセットアップから継続的保守に至るまで、さまざまなタスクをお客様と IBM の両方で行う必要があります。以下の表に、開始フェーズ、進行フェーズ、および完了フェーズにわたって必要なタスクおよびタスクを完了する責任を持つ側の概要を示します。

方向付けフェーズを使用して、{{site.data.keyword.Bluemix_notm}} Local 環境を設定します。この時点で、お客様は [Local のインフラストラクチャー要件](../local/index.html#localinfra)を既にレビュー済みです。このフェーズの主な目標には、以下のものがあります。

- 金融契約を審査し、配信までのマイルストーン日付を設定します。
- {{site.data.keyword.Bluemix_notm}} プラットフォームを作成し、ランタイムおよびサービスにアクセスできるようにします。
- 企業ネットワークと {{site.data.keyword.Bluemix_notm}} 操作との間のネットワーク接続を定義して確立します。
- 管理チームの役割を特定して割り当てます。

*表 1. 方向付けフェーズのタスク*

| **タスク** | **タスクの詳細** | **責任を持つ側** |
|----------|------------------|-----------------------|
|コンプライアンス規格の設定 | 環境に必要な政府、業界、および専有企業の標準を特定します。 | お客様 |
|セキュリティーおよびコンプライアンス統合計画の作成 | セキュリティー・コンプライアンスの実現に必要なコスト、スケジュール、およびリソースなどのセキュリティーおよび統合計画を作成します。 | IBM |
|コンプライアンス計画の承認 | コンプライアンス計画を承認します。 | お客様 |
|環境のサイジングの作成 |  	高可用性と災害復旧の目標、およびプラットフォームで作成されるアプリをサポートするために必要な初期 DEA とサービス・プロビジョニングを考慮した事前定義の選択に基づいて、環境のサイジングを作成します。お客様と IBM は連携して、必要なデータベース、顧客のシンジケートされたカタログで提供するサービスなどを定義します。 | IBM とお客様の共同の責任 |
|アーキテクチャーの選択 | 高可用性および災害復旧の要件を考慮に入れた事前定義の選択に基づいて、アーキテクチャーを選択します。 | IBM |
|災害復旧目標の定義 | 環境の災害復旧の要件を定義します。 | お客様 |
|災害復旧計画の作成 | 災害復旧計画を相談して定義します。IBM は災害復旧モデルを作成してお客様と相談し、お客様はフィードバックを提供して計画を承認します。 | IBM とお客様の共同の責任 |
|バックアップおよびリカバリー計画の作成 | 頻度およびバックアップのオン/オフ・サイト分配の要件を定義したバックアップとリカバリーの計画を作成します。IBM はファブリック・コンポーネント、IBM サービス、ユーザー役割などのサービス・メタデータなどをバックアップします。お客様は、お客様が責任を持つアプリケーション固有のデータをバックアップします。 | IBM とお客様の共同の責任 |
|イベント検出および問題判別用ツールの特定 | {{site.data.keyword.Bluemix_notm}} プラットフォーム・レベルでイベント検出および問題判別に使用する IBM およびサード・パーティーのツールを特定します。 | IBM |
|エスカレーション計画の定義 | モニター・コンポーネントで検出されたイベントをトリアージおよび解決するためのエスカレーション計画を定義します。 | IBM |
|インフラストラクチャー、プラットフォーム、およびサポートに関する合意の承認 | 環境の金銭的条件など、サブスクリプションに関する合意を承認します。ネットワークおよびセキュリティー・モニターに関する合意を承認します。サポート・サブスクリプションを承認します。 | お客様 |
|環境の調達 | 計算リソース、ネットワーク、およびストレージを調達します。環境のインフラストラクチャーの要件について詳しくは、『[ Local のインフラストラクチャー要件](../local/index.html#localinfra)』を参照してください。 | お客様 |
|VPN ソリューションのインストール | 双方向の VPN ソリューションをインストールします。 | IBM |
|ファブリック、アプリケーション、およびモニターと管理の各コンポーネントのインストール | ファブリック・コンポーネント (BOSH Director、クラウド・コントローラー、正常性マネージャー、メッセージング、ルーター、DEA、サービス・プロバイダーなど) およびエスカレーションや問題検出の計画で定義されているモニター・コンポーネントをインストール、構成、および検証します。 | IBM |
|セキュリティー・コンポーネントのインストールと構成 | IBM QRadar、資格情報ボールト、侵入防止システム、IBM BigFix、IBM Security Privileged Identity Management など、モニターおよびエスカレーション計画に関連したセキュリティー・コンポーネントをインストールして構成します。 | IBM |
|ログイン・サーバーの構成 | 企業 LDAP で使用するログイン・サーバーを構成します。 | IBM |
|カスタム・コンポーネントのインストールと構成 |  	{{site.data.keyword.Bluemix_notm}} 製品およびサービスの有効範囲外にあるカスタム・コンポーネントをインストールして構成します。 | お客様 |
|{{site.data.keyword.Bluemix_notm}} パイプラインの接続 | {{site.data.keyword.Bluemix_notm}} の継続的統合および継続的配信のパイプラインを IBM リポジトリーと接続します。 | IBM |
|外部ソリューション・コンポーネントのカスタマイズ | 災害復旧シナリオ用にロード・バランサーをカスタマイズします。 | お客様 |
|セキュリティー、コンプライアンス、および監査管理の状況の追跡  | すべてのツールおよびプロセスが配備されて、特定したコンプライアンスが実現する時点まで状況を追跡します。 | お客様 |
|物理的インフラストラクチャーのレビュー | データ・センターを保護するセキュリティー制御の脅威および審査のためのソリューション・コンポーネントをホストする物理的プレミスをレビューします。 | お客様 |
|モニタリング・ソフトウェアの検査 | エスカレーションおよび問題判別の計画で定義したモニターおよび管理コンポーネントを検査します。 | お客様 |
|OS の検査 | オペレーティング・システム・イメージがコンプライアンス規格に合っていることを確認するための検査を行います。IBM が OS イメージにアクセスできるようにします。 | IBM とお客様の共同の責任 |

次に、進行フェーズについて説明します。進行フェーズとは、お客様と IBM との間における協力的な進行中の関係を指します。このフェーズの主な目標には、以下のものがあります。

- キャパシティーを検討し、必要な調整を行います。
- 保守およびプラットフォームの改善を検討します。
- 問題解決および根本原因分析のアクティビティーを調整します。

*表 2. 進行フェーズのタスク*

| **タスク** | **タスクの詳細** | **責任を持つ側** |
|----------|------------------|-----------------------|
|週次容量レポートのレビュー | 週次容量レポートをレビューし、必要に応じて修正アクションを実行します。 | お客様 |
|前月比予測の作成 | 容量および使用量の情報を収集し、前月比予測を作成します。 | IBM とお客様の共同の責任 |
|キャパシティー予測のレビュー | アプリの容量および予想新規デプロイメントに影響する可能性がある外部イベントに関係する容量予測をレビューします。IBM と連携して、予測をレビューし、それに従って計画します。 | IBM とお客様の共同の責任 |
|容量の調整 |  ニーズの変化に合わせて容量を追加または削除します。 | IBM |
|近く予定されている更新および保守の公開 | IBM コンポーネントの必要な保守に関する文書を作成します。 | IBM |
|保守の実行 | IBM と連携して、30 日の期間内の必要な保守をスケジュールします。お客様は 30 日の期間内のお客様にとって都合が悪い日付を提供し、IBM はそれに従って保守のスケジュールを組みます。 | IBM とお客様の共同の責任 |
|プロビジョニング失敗の解決 | カタログにデプロイされた顧客作成サービスでプロビジョニング失敗が発生した場合に、その失敗を修正します。 | IBM |
|ネットワークおよび IP スキャンの実行 | 日次および月次のネットワーク・スキャンおよび IP スキャンを実行します。 | IBM とお客様の共同の責任 |
|監査ログへのアクセスの提供 | すべてのセキュリティー監査ログおよび管理監査ログへのアクセスを提供します。   | IBM とお客様の共同の責任 |
|テストの実施 | 定期的な KCO (Key Controls over Operations) テストおよびサード・パーティー侵入テストを実施します。 | IBM とお客様の共同の責任 |
|状況レポート作成、監査調整、およびコンプライアンス会議  | 状況レポート作成、外部監査調整、およびコンプライアンス・レビュー状況会議での説明を実施します。 | IBM |
|雇用とビジネス・ニーズの確認 | 四半期ごとに、顧客環境にアクセスできる IBM 担当者について、雇用の確認およびビジネス・ニーズが継続していることの確認を行います。 | IBM |
|セキュリティー脆弱性の解決 | プラットフォームで報告されたセキュリティー脆弱性を解決します。 | IBM |

最終の完了ステージは、お客様と IBM {{site.data.keyword.Bluemix_notm}} 間の関係の終了を表します。このフェーズの主なタスクには、以下のものがあります。

* 金銭的合意の終了
* すべてのネットワーク接続の削除
* インフラストラクチャーのリサイクル

*表 3. 完了フェーズのタスク*

| **タスク** | **タスクの詳細** | **責任を持つ側** |
|----------|------------------|-----------------------|
|金銭的合意の終了 | 金銭的合意の契約の終了について話し合い、終了に合意します。 | IBM とお客様の共同の責任 |
|環境の廃止 | 環境へのアクセスおよび環境の資格情報をシャットダウンします。 | IBM とお客様の共同の責任 |
|リレーのシャットダウン | リレー接続を終了します。 | IBM |
|インフラストラクチャーのリサイクル | 会社のガイドラインに従って、インフラストラクチャーをリサイクルします。 | お客様 |

##{{site.data.keyword.Bluemix_notm}} Local のインフラストラクチャー要件
{: #localinfra}

{{site.data.keyword.Bluemix_notm}} Local では、物理的セキュリティー、およびローカル・インスタンスをホストするためのインフラストラクチャーをお客様が所有します。IBM では、{{site.data.keyword.Bluemix_notm}} Local をセットアップするための要件を以下のように設定しています。
###ハードウェア
使用可能なハードウェアのタイプおよびサイズの要件はありますが、設定されているリソースの合計の要件を満たすために任意の組み合わせを選択できます。
<dl>
<dt>**VMware ESXi ハードウェア**</dt>
<dd>
ESXi は、物理サーバーで実行され、プロセッサー、メモリー、ストレージ、およびリソースを複数の仮想マシンに抽出する仮想化層です。ESXi ごとの最小物理コア数が 8 という条件の下で、以下のリソース合計を満たす任意の組み合わせを選択できます。以下の仕様は、{{site.data.keyword.Bluemix_notm}} コア・ランタイム専用です。
<ul>
<li>48 個の物理コア (各 2.0 GHz 以上)</li>
<li>756 GB の物理 RAM</li>
</li>合計データ・ストア・サイズ 7.5 TB
<ul>
<li>{{site.data.keyword.Bluemix_notm}} を保持するための 7 TB のデータ・ストア</li>
<li>開始仮想マシンを保持するための 500 GB のデータ・ストア</li>
</ul>
</ul>
<p><strong>注:</strong> 複数のデータ・ストアを使用する場合は、それぞれに同じプレフィックスを使用してください。</p>
</dd>
<dt>**高可用性**</dt>
<dd>
単一ノードの障害に対応するためには、n+1 個の ESXi が必要です。例えば、2 個の ESXi (それぞれ 16 個のコア) を使用する場合、3 個目の ESXi が必要になります。
<p><strong>注:</strong> お客様の VMware 管理者が、リソースを保証するためにクラスター内に厳格な高可用性フェイルオーバーを適用するかどうかを決定できます。</p>
</dd>
<dt>**ネットワーク**</dt>
<dd>
推奨要件としては、同じサブネット内でアウトバウンド・インターネット・アクセス権限がある 7 個のカスタマー・ネットワーク IP アドレスを持つ、お客様がアクセス可能なポート・グループがあります。2 つのポートはインセプション仮想マシンによって使用され、3 つのポートはドメインに使用される仮想 IP アドレスで、最後の 2 つは DataPower 用のパブリック IP アドレスです。その場合、{{site.data.keyword.Bluemix_notm}} Local で使用する ESXi のみの間に 2 つ目のプライベート VLAN を定義してください。この VLAN は、VMware でポート・グループとして表示されます。{{site.data.keyword.Bluemix_notm}} Local はこれをプライベート・サブネットで使用します。プライベート・サブネットは、セキュリティーが高く、ルーティングの問題の回避に役立ちます。<br />
<p>以下のポートが使用されます。</p>
<ul>
<li>リレー接続用のポート 443
<p>**注**: OpenVPN ではなく IPSec トンネルを使用する場合は、この接続用のカスタマー・ポートをオープンします。</p></li>
<li>LDAP またはアクティブ・ディレクトリーの接続用のポート 389 または SSL 636</li>
</ul>
<p>**注**: IBM は、ネットワーク接続が失われたかどうかを検出できます。ネットワーク接続が失われた場合、IBM はユーザーに連絡し、ネットワーク専門家と協力して問題を解決します。</p>
</dd>
</dl>

###vCenter サーバー構成
以下のバージョン、データ・センター、リソース・プール、およびデータ・ストアの要件を確認してください。
<dl>
<dt>**サポートされる VMware バージョン**</dt>
<dd>vCenter および ESXi 5.1 および 5.5</dd>
<dt>**サポートされる VMware タイプ**</dt>
<dd>vSphere Enterprise<br />
分散仮想スイッチを使用する予定の場合は、vSphere Enterprise Plus。</dd>
<dt>**データ・センター**</dt>
<dd>データ・センターが存在しない場合は、データ・センターを作成します。</dd>
<dt>**データ・センター・フォルダー**</dt>
<dd>データ・センターから伝搬された管理者権限を付与する計画でない場合は、クラスターと同じ名前の VM フォルダーを作成します。</dd>
<dt>**クラスター**</dt>
<dd>{{site.data.keyword.Bluemix_notm}} Local 専用のクラスターを作成します。クラスター名の例: `bluemix`。</dd>
<dt>**リソース・プール**</dt>
<dd>{{site.data.keyword.Bluemix_notm}} Local クラスターの下にリソース・プールを作成します。リソース・プール名の例: `local`。</dd>
</dt>**データ・ストア**</dt>
<dd>{{site.data.keyword.Bluemix_notm}} の初期デプロイメントに 7.5 TB 必要です。<br />
<br />
**注**: 複数のデータ・ストアを使用する場合は、それぞれが同じプレフィックスで始まるようにしてください。同じプレフィックスを持つ複数のデータ・ストア名の例: `bluemix_datastore_01` と `bluemix_datastore_02`。</dd>
</dl>

###ネットワーク帯域幅
推奨スループットは、上り 5 Mbps、下り 5 Mbps です。これで、月次データ使用量 10 GB を予期できます。IBM は、一連の大量データ (最大で 3GB) が送信される場合に合意された枠を設定いたします。
###VMware の許可
以下の役割と許可を設定します。伝搬は許可ごとに設定されます。許可が伝搬されると、許可はオブジェクト階層を介して継承されます。ただし、子オブジェクトの許可は常に、親オブジェクトから伝搬された許可をオーバーライドします。
<dl>
<dt>**v Center サーバー**</dt>
<dd>役割を読み取り専用、かつ伝搬されないものとして設定します。<br />
<br />
**注**: この役割は、特定のディスク操作のタスク状況を取得するために必要になります。</dd>
<dt>**データ・センター**</dt>
<dd>「{{site.data.keyword.Bluemix_notm}}」という役割を作成し、**「低レベル・ファイル操作 (Low level file operations)」**および**「仮想マシン・ファイルの更新 (Update virtual machine files)」**を含む**「データ・ストア (Datastore)」**の許可を付与します。<br />
<br />
**注**: この役割は、データ・ストアへのファイルのポストをサポートするために必要になります。</dd>
<dt>**クラスター**</dt>
<dd>役割を管理者、かつ伝搬されるものとして設定します。</dd>
<dt>**データ・ストア**</dt>
<dd>{{site.data.keyword.Bluemix_notm}} データ・ストアごとに、役割を管理者、かつ伝搬されるものとして設定します。</dd>
<dt>**ネットワーク**</dt>
<dd>伝搬されない管理者役割を持つ、パブリックおよびプライベート・ポート・グループを設定します。</dd>
</dl>

###ドロップレット実行エージェント (DEA) プール
以下を備えた各 DEA を構成します。
- 16 から 32 GB の RAM
- 2 から 4 個の vCPU
- 150 から 300 GB のストレージ

例えば、ESXi ホスト・サイズが 256 GB のメモリーと 16 個のコアの場合、8 個の DEA を追加します。ESXi ホスト・サイズが 64 GB のメモリーと 8 個のコアの場合、2 個の ESXi と 4 個の DEA を追加する必要があります。4 個の DEA ごとに追加の 1.5 TB のストレージが必要です。この例は、32 GB の RAM、4 個の vCPU、および 300 GB のストレージで構成された DEA に基づいています。

##ローカル・インスタンスの保守
{: #maintainlocal}

Bluemix Local プラットフォーム、ランタイム、およびサービスに適合していると IBM が判断した更新およびフィックスについて、IBM は保守とインストールを行います。保守期間の間はサービスが利用できない場合があります。

**重要**: IBM は、必要に応じて緊急時保守を適用するためにサービスを中断する権利を留保します。IBM は、定期保守の時間を変更することがありますが、そのような変更および緊急時保守の情報についてはすべてお客様に通知いたします。

{{site.data.keyword.Bluemix_notm}} Local には、以下のタイプの保守が必要です。
<dl>
<dt>**標準保守期間**</dt>
<dd>サービスは、事前定義された標準保守期間を利用します。そのため、サービスが利用できなくなる場合があります。IBM は保守の実施に当たり、お客様の承認を必要としませんが、お客様のサービスへの影響が最小限になるよう努めます。<br />
<br />
IBM は、E メール、電話、または他の方法を通じて、各保守期間で計画されている変更を示すブロードキャスト・メッセージを通知します。<br />
<br />
**重要**: 保守期間中には、一部のサービスが使用不可になる可能性があります。</dd>

<dt>**月次変更期間**</dt>
<dd>月次保守期間は、21 日間の期間内でお客様と IBM の間の調整に基づいて適用されます。お客様は、21 日間の期間内で都合が悪い可能性のある特定の日時を IBM に提示してください。IBM は、その時間を外して更新をスケジュールに入れるようにします。要求に基づき、IBM はスケジュールに入れた保守期間をお客様に伝えます。月次変更期間は、稼働中の Bluemix Local 環境には影響しないと見込まれます。<br />
<br />
**注**: 特定の時間に更新するよう要求しない場合、保守は、自動的に期間の最後に適用されます。<br />
<br />
**「管理」>「システム情報 (SYSTEM INFORMATION)」**へ移動して保留中の更新を表示し、利用不能日を設定して、更新を承認します。通知と保留中の更新のスケジューリングについて詳しくは、『<a href="../admin/index.html#oc_system">システム情報の表示</a>』を参照してください。</dd>

<dt>**その他**</dt>
<dd>IBM は、ご使用のサービス、特に、お客様の Bluemix Local 環境、ランタイム、およびサービスの可用性に影響する可能性があるすべての保守を、標準期間および月次期間に限定する所存です。環境の管理のために例外ベースで、その他の変更期間を使用することがあります。IBM は、それらの変更期間中にお客様に与える影響を最小限に抑えるよう十分に努めるとともに、事前に通知いたします。</dd>
</dl>

ご使用のローカル・インスタンスの保守を手配するには、IBM 指定のアカウント担当者と連携して、標準保守について合意した期間を明示してください。

保守更新後に報告された問題があり、IBM による更新のロールバックを許可するのが最善である場合、お客様は IBM 担当員に同意を示します。合意した場合、IBM はその更新をロールバックして、環境を前の状態に戻します。

## 災害復旧
{: #dr}

{{site.data.keyword.Bluemix_short}} Public は、イノベーションのために継続的に使用可能なプラットフォームを提供します。複数のフェイルセーフ動作手法により、組織、スペース、およびアプリが常に使用可能であるようにします。アプリを複数の地域にデプロイすることで連続可用性が実現し、複数のハードウェアやソフトウェアのコンポーネントが計画外で同時に失われたり、データ・センター全体が失われたりしないように保護されます。これにより、ある地理的場所で自然災害が発生した場合でも、代替の地理的場所にある分散 {{site.data.keyword.Bluemix_notm}} Public アプリ・インスタンスが使用可能になります。
{: shortdesc}

{{site.data.keyword.Bluemix_short}} Local の災害復旧は、アプリの連続可用性、プラットフォームの固有の高可用性、および障害発生時におけるインスタンス復元機能によって可能になります。お客様は、複数の地域にデプロイすることで、アプリの連続可用性を実現する責任を持ちます。高可用性は、Cloud Foundry およびその他のコンポーネントに含まれているテクノロジーによって、プラットフォーム・レベルで組み込まれています。また、IBM と連携して、いつでもインスタンスをリストアする必要性が生じたときに備えて、データが適切にバックアップされるようにします。

### {{site.data.keyword.Bluemix_notm}} Local の連続可用性の実現
{: #enabling}

デフォルトでは、{{site.data.keyword.Bluemix_notm}} Public は複数の地理的場所にデプロイされます。ただし、グローバルに分散した {{site.data.keyword.Bluemix_notm}} Local インスタンスを使用可能にするために以下を実行する必要があります。

* 開発者が手動プロセスまたは自動化プロセスのいずれかで複数の地域にアプリをデプロイすることを確認します。自然災害が両方の地理的場所に影響することがないように、選択地域は互いに 200 km よりも離れている必要があります。
* Akamai や Dyn のようなグローバル・ロード・バランサーを構成して、少なくとも 2 つの異なる地域にあるアプリを指すようにする。

**注**: すべての {{site.data.keyword.Bluemix_notm}} サービスが地域の分散をサポートするわけではありません。アプリの構成時に、地理的分散を実現する場合は、当該アプリで使用されるサービスにキー・フィーチャーとしてデータ同期化が含まれていることを確認する必要もあります。

#### 複数の地理的場所への {{site.data.keyword.Bluemix_notm}} Local アプリのデプロイ
{: #deploying}

2 つ目の場所または複数の場所にデプロイするには、以下のように、1 次地理的場所を使用可能にする際に実行したのと同じようなプロセスに従う必要があります。

1. アプリケーションの追加インスタンスをホストする新規ローカル環境を使用可能にします。新規環境を作成するには、このプロセスを開始するために IBM 営業チームに連絡してください。ローカル・インスタンスのセットアップについて詳しくは、『[{{site.data.keyword.Bluemix_notm}} Local のセットアップ](../local/index.html#setuplocal)』を参照してください。各環境にアクセスするには、別個にログインする必要があります。ホストされている環境の各物理的場所は、可用性を確保するために、元の場所から最小でも 200 km 離れている必要があります。
2. 新たにデプロイされたアプリがホストされる固有のドメイン・ネームを入手します。例えば、元のドメインが *mycompany.east.bluemix.net* の場合、*mycompany.west.bluemix.net* などの新規ドメインで新規ローカル環境を作成し、新規ドメインにデプロイできます。
3. 元のアプリをデプロイするごとに、新規場所にデプロイします。デプロイについて詳しくは、『[アプリのアップロード](../starters/upload_app.html)』を参照してください。


#### {{site.data.keyword.Bluemix_notm}} Local のグローバル・ロード・バランサーの使用可能化
{: #glb}

グローバル・ロード・バランサーは、連続可用性を確保し、災害復旧に必要なだけではなく、以下のような追加の利点ももたらします。

* デフォルトで、ユーザーを最も近い {{site.data.keyword.Bluemix_notm}} 地域にルーティングする
* パフォーマンスに基づいてルーティングする
* 新規アプリケーション・バージョンに特定の割合のトラフィックを選択的に送信する
* 地域ヘルス・チェックに基づいてサイト・フェイルオーバーを提供する
* アプリケーション・ヘルス・チェックに基づいてサイト・フェイルオーバーを提供する
* 複数のエンドポイント間で重み付きルーティングを使用する

Akamai や Dyn などのグローバル・ロード・バランサーを選択できます。グローバル・ロード・バランサーとしての Akamai の使用について詳しくは、『[GLOBAL TRAFFIC MANAGEMENT](https://www.akamai.com/jp/ja/solutions/products/web-performance/global-traffic-management.jsp){: new_window}』を参照してください。グローバル・ロード・バランサーとしての Dyn の使用について詳しくは、『[4 Reasons Businesses Are Taking Global Load Balancing to the Cloud](http://dyn.com/blog/4-reasons-businesses-are-taking-global-load-balancing-to-the-cloud/){: new_window}』を参照してください。

### 高可用性
{: #ha}

連続可用性の確保に加え、{{site.data.keyword.Bluemix_notm}} では、Cloud Foundry、Docker、およびその他のコンポーネントに組み込まれたテクノロジーを使用することで、プラットフォーム全体で高可用性が提供されます。

これらのテクノロジーには、以下のものがあります。

<dl>
<dt>Cloud Foundry でのスケーラビリティー</dt>
<dd>Cloud Foundry <a href="https://docs.cloudfoundry.org/concepts/architecture/execution-agent.html" target="_blank">Droplet Execution Agent (DEA)</a> は、その内部で実行しているアプリに対するヘルス・チェックを実行します。アプリまたは DEA 自体に問題が生じた場合、代替 DEA にアプリの追加インスタンスがデプロイされ、問題が解決されます。詳しくは、『<a href="https://docs.cloudfoundry.org/concepts/high-availability.html" target="_blank">Configuring CF for High Availability with Redundancy</a>』を参照してください。
</dd>
<dt>メタデータのバックアップ</dt>
<dd>メタデータが、2 次的場所 (通常、オンプレミスの仮想マシン) にバックアップされます。可能な場合、少なくとも 200 km 離れた独自の環境にバックアップを複製することをお勧めします。</dd>
</dl>

##ローカル・インスタンスのリストア
{: #restorelocal}

{{site.data.keyword.Bluemix_notm}} Local の設定、メタデータ、および構成は、環境内の計画外の停止に備えるために定期的にバックアップされます。お客様の責任でバックアップする必要があるデータには、アプリケーション・データ、クラウド・データベース・サービス・データ、およびオブジェクト・ストアがあります。

システム・メタデータおよび構成を含むデータのバックアップの一環として、IBM は以下のタスクを実行します。

<ul>
<li>すべてのバックアップ・コピーを暗号化し、暗号鍵を管理します。</li>
<li>バックアップ・アクティビティーをモニターおよび管理します。</li>
<li>暗号化されたバックアップ・ファイルを提供します。</li>
<li>要求されたデータをリストアします。</li>
<li>バックアップとフィックス管理の操作のスケジュール競合を管理します。</li>
</ul>

プライベート・データの保護は重要です。そのため、IBM は、ファイルをお客様のデータ・センターの外部に移動しないようにするために、バックアップ・ファイル管理においてお客様に協力して作業していただく必要があります。具体的に、IBM は以下の作業をお客様にお願いします。

<ul>
<li>お客様が管理する他のバックアップ・データと同様に、暗号化されたバックアップ・データのコピーをオフサイトに移動する。</li>
<li>リストアが必要な場合には、IBM オペレーターにバックアップ・ファイルを提供する。</li>
</ul>

# 関連リンク
## 一般
* [詳細: {{site.data.keyword.Bluemix_notm}} Local](http://www.ibm.com/cloud-computing/bluemix/hybrid/local/)
* [{{site.data.keyword.Bluemix_notm}} Local および {{site.data.keyword.Bluemix_notm}} Dedicated の管理](../admin/index.html#mng)
* [サポートへのお問い合わせ](../troubleshoot/getting_customer_support.html#bluemix_support)
