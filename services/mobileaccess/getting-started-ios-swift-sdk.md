---

copyright:
  years: 2016

---
{:shortdesc: .shortdesc}
{:screen: .screen}


# Setting up the iOS Swift SDK
{: #getting-started-ios}

Last updated: 23 August 2016
{: .last-updated}


{{site.data.keyword.amafull}} has released a new Swift SDK, that adds to, and improves, the functionality provided by the existing {{site.data.keyword.amashort}} Objective-C SDK, making it easier to authenticate your app and providing better protection for your back-end resources. Instrument your iOS Swift application with the {{site.data.keyword.amashort}} SDK, initialize the SDK, and make requests to protected and unprotected resources.

{:shortdesc}

**Note:** The Objective-C SDK reports monitoring data to the Monitoring Console of {{site.data.keyword.amashort}} service. In case youâ€™re relying on the monitoring functionality of {{site.data.keyword.amashort}} service you need to continue using the Objective-C SDK.

While the Objective-C SDK remains fully supported, and is still considered the primary SDK for  {{site.data.keyword.Bluemix_notm}} Mobile Services, there are plans to discontinue the Objective-C SDK later this year in favor of this new Swift SDK. 






## Before you begin
{: #before-you-begin}
You must have:
* An instance of a  {{site.data.keyword.Bluemix_notm}} application that is protected by {{site.data.keyword.amashort}} service. For more information about how to create a {{site.data.keyword.Bluemix_notm}} back-end application, see [Getting started](index.html).
* An Xcode project. For more information about how to set up your iOS development environment, see the [Apple Developer website](https://developer.apple.com/support/xcode/).


## Installing the {{site.data.keyword.amashort}} client SDK
{: #install-mca-sdk-ios}
The {{site.data.keyword.amashort}} SDK is distributed with CocoaPods, a dependency manager for iOS projects. CocoaPods automatically downloads artifacts from repositories, and makes them available to your iOS application.


### Install CocoaPods
{: #install-cocoapods}

1. In a terminal window,  run the **pod --version** command. If you already have CocoaPods installed, the version number displays and you can skip to the next section to install the SDK.

1. If you do not have CocoaPods installed, run:
```
sudo gem install cocoapods
```


For more information, see the [CocoaPods website](https://cocoapods.org/).

### Install the {{site.data.keyword.amashort}} client SDK with CocoaPods
{: #install-sdk-cocoapods}

1. In a terminal window, navigate to the root directory of your iOS project.

1. If you have not already initialized your workspace for CocoaPods, run the `pod init` command.<br/>
 CocoaPods creates a `Podfile` file for you, which is where you define dependencies for your iOS project.

1. Edit the `Podfile` file and add the following line to the required targets:

	```
  use_frameworks!
  pod 'BMSSecurity'
	```

  **Tip:** You can add `use_frameworks!` to your Xcode target instead of having it in the Podfile.

1. Save the `Podfile` file, and run `pod install` from the command line. CocoaPods  installs the relevant dependencies, and displays the added dependencies and pods.<br/>

   **Important**: CocoaPods generates an `xcworkspace` file.  You must open this file to work on your project going forward.

1. Open your iOS project workspace. Open the `xcworkspace` file that was generated by CocoaPods. For example: `{your-project-name}.xcworkspace`. Run `open {your-project-name}.xcworkspace`.

## Initializing the {{site.data.keyword.amashort}} client SDK
{: #init-mca-sdk-ios}

 Initialize the SDK by passing the `applicationRoute` and `applicationGUID` parameters. A common, though not mandatory, place to put the initialization code is in the `application:didFinishLaunchingWithOptions` method of your application delegate.

1. Get your application parameter values. Open your app in the {{site.data.keyword.Bluemix_notm}} dashboard. Click **Mobile Options**. The `applicationRoute` and `applicationGUID` values are displayed in the **Route** and **App GUID** fields.

1. Import the required frameworks in the class where you want to use {{site.data.keyword.amashort}} client SDK.

 ```Swift
 import BMSCore
 import BMSSecurity
 ```
 {: codeblock}

1. Initialize the {{site.data.keyword.amashort}} client SDK.

 ```Swift
 let backendURL = "<applicationRoute>"
 let backendGUID = "<applicationGUID>"

 func application(application: UIApplication, didFinishLaunchingWithOptions launchOptions: [NSObject: AnyObject]?) -> Bool {

 // Initialize the client SDK.  
 BMSClient.sharedInstance.initializeWithBluemixAppRoute(backendURL, bluemixAppGUID: backendGUID, bluemixRegion: BMSClient.<applicationBluemixRegion>)

 BMSClient.sharedInstance.authorizationManager = MCAAuthorizationManager.sharedInstance

 return true
 }
 ```
 {: codeblock}

  * Replace the `<applicationRoute>` and `<applicationGUID>` with values for **Route** and **App GUID** that you obtained from **Mobile Options** in the {{site.data.keyword.Bluemix_notm}} dashboard. 
  * Replace `<applicationBluemixRegion>` with the region where your {{site.data.keyword.Bluemix_notm}} application is hosted. To view your {{site.data.keyword.Bluemix_notm}} region, click the **Avatar** icon ![Avatar icon](images/face.jpg "Avatar icon")  in the menu bar to open the **Account and Support** widget.
   
## Making a request to your mobile back-end application
{: #request}

After the {{site.data.keyword.amashort}} client SDK is initialized, you can start making requests to your mobile back-end application.

1. Try to send a request to a protected endpoint on your mobile back-end application in your browser. Open the following URL: `{applicationRoute}/protected`. For example: `http://my-mobile-backend.mybluemix.net/protected`
<br/>The `/protected` endpoint of a mobile back-end application that was created with MobileFirst Services Starter boilerplate is protected with {{site.data.keyword.amashort}}. An `Unauthorized` message is returned in your browser because this endpoint can be accessed by mobile applications that are instrumented with {{site.data.keyword.amashort}} client SDK only.

1. Use your iOS application to make a request to the same endpoint. Add the following code after you initialize `BMSClient`:

 ```Swift
 let customResourceURL = "<your protected resource's path>"
 let request = Request(url: customResourceURL, method: HttpMethod.GET)
 let callBack:BmsCompletionHandler = {(response: Response?, error: NSError?) in
     if error == nil {
         print ("response:\(response?.responseText), no error")
     } else {
         print ("error: \(error)")
     }
 }

 request.sendWithCompletionHandler(callBack)
 ```
 {: codeblock}

1.  When your request succeeds, the following output appears in the Xcode console:

 ```
 response:Optional("Hello, this is a protected resource of the mobile backend application!"), no error
 ```
{: screen}
 
## Next steps
{: #next-steps}
When you connected to the protected endpoint, no credentials were required. To require your users to log in to your application, you must configure Facebook, Google, or custom authentication.
  * [Facebook](facebook-auth-ios-swift-sdk.html)
  * [Google](google-auth-ios-swift-sdk.html)
  * [Custom](custom-auth-ios-swift-sdk.html)
