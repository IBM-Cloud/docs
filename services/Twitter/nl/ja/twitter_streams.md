---

copyright:
  years: 2015, 2016
lastupdated: "2016-11-21"

---

{:new_window: target="_blank"}
{:shortdesc: .shortdesc}
{:screen:.screen}
{:codeblock:.codeblock}

# Decahose および PowerTrack ストリーム {: #decahose_powertrack}

{{site.data.keyword.twittershort}} は、
{{site.data.keyword.Bluemix_notm}} プランの登録に基づいて Twitter Decahose および PowerTrack ストリームへのアクセスを提供します。両方の
ストリームは、必要に応じてリアルタイム・フィードと各種特性を配信します。
{:shortdesc}

Decahose ストリームは、Twitter Firehose の 10% のランダム・サンプリングです。ツイートは Twitter からリアルタイムで派生し、ストリームは Twitter のサンプリング・アルゴリズムによって決定されます。ほとんどの統計分析の場合、10% のランダム・サンプルで十分に正確です。Decahose データには 2 年間の索引が付けられています。したがって、クエリーの応答で 2 年より古いツイートが返されることはありません。Decahose へのアクセスは、フリー・プランおよびエントリー・プランで可能です。一方、PowerTrack ストリームへのアクセスは、エントリー・プランのユーザー専用です。

PowerTrack ストリームでは、トラックと呼ばれるユーザー定義のルール・ベース・フィルターに基づいて着信ツイートをフィルタリングするという、追加の利点が得られます。エントリー・プラン・ユーザーとして、アカウントごとに最大 1,000 個のルールを作成できます。拡張フィルタリングの場合、複数のトラックを組み合わせて 1 つの集約トラックを形成できます。以下のセクションでは、トラックの状態、プロパティー、およびトラックで実行できるサポートされているアクション (編集、削除など) について説明します。

**注**: PowerTrack ストリームの索引付けは、カレンダー月ごとに 100 万ツイートに制限されています。制限に達すると、その月の索引付けは停止されます。次の月の始めに、トラックを再アクティブ化することができます。それらは自動的にアクティブ化されるわけではありません。ストリーム
を最大限に利用するには、トラックを適切に管理することを強くお勧めします。例えば、重複トラックを非アクティブにすることができます。

## トラック・タイプ {: #track_types}

エントリー・プラン・ユーザーは、カスタマイズ可能なトラックを作成して、PowerTrack データ・ストリームで収集されたメッセージをフィルタリングできます。
{{site.data.keyword.twittershort}} は、以下の 2 つのトラック・タイプをサポートしています。

<dl>
<dt>ルール</dt>
<dd>このトラックで収集されたすべてのメッセージは、トラックに関連付けられたルールの少なくとも 1 つと一致します。このトラック・タイプ内で、ルールを追加、編集、および削除できます。完全な [GNIP PowerTrack Rules の構文](http://support.gnip.com/apis/powertrack2.0/rules.html)が、ルール・ベースのトラック内でサポートされています。すべてのクエリーは、{{site.data.keyword.twittershort}} [クエリー言語](twitter_rest_apis.html#querylanguage "クエリー言語")に準拠している必要があります。
</dd>

<dt>集計</dt>
<dd>2 つ以上のルールまたは集計トラックの組み合わせ。集計トラックは、複数のトラックの任意のグループ化に使用されます。集計トラック・タイプから個々のトラックを追加または削除することができます。個々のルールは、集計トラックに追加できま
せん。代わりに、この目的のために、ルール・トラックを使用します。集計トラックはステートレスですが、その構成要素のルール・トラックは **Active** または
**Inactive** です。</dd>
</dl>

## トラックのプロパティー {: #track_properties}
トラックには、以下のプロパティーが含まれています。一部のプロパティーは、ルール・ベース・トラックと集計トラックの両方には適用されません。例えば、rules プロパティーは、集計トラックには適用されません。

<dl>
<dt>createdDate</dt>
<dd>トラックが作成された日時を示し、`YYYYMMDDHHMM` として指定します。</dd>

<dt>endDate</dt>
<dd>トラックがメッセージの収集を停止する日時を示します。指定する値は、将来の日時である必要があります。形式は `YYYY-MM-DD` または `YYYY-MM-DDTHH:MM:SSZ` のいずれかに従う必要があります。過去の日付を指定すると、HTTP 400 エラーが返されます。
このプロパティーは、集計トラックには適用されません。</dd>

<dt>id</dt>
<dd>作成時にトラックに割り当てられる固有の ID 参照。この ID は、ルール・トラックおよび集計トラックの GUID ストリング・フォーマット (例えば、3F2504E0-4F89-41D3-9A0C-0305E82C3301) で表されます。</dd>

<dt>name</dt>
<dd>トラックの記述名。このプロパティーの固有性は、保証されていません。</dd>

<dt>rules</dt>
<dd>トラックのフィルターを定義するクエリー・キーワードおよびその他のパラメーターを含む、ルールの配列。このプロパティーは、ルール・ベースのトラックに適用されますが、集計トラックには適用されません。</dd>

<dt>state</dt>
<dd>**Active** か **Inactive** でなければなりません。アクティブなトラックはメッセージを収集しますが、非アクティブなトラックはメッセージを収集しません。トラックの状態はいつでも変更できます。このプロパティーは、集計トラックには適用されません。</dd>

<dt>trackIds</dt>
<dd>トラック ID の配列。このプロパティーは、集計トラックにのみ適用されます。</dd>

<dt>type</dt>
<dd>トラック・タイプが、**Rule** か **Aggregated** かを示します。トラックのプロパティー (トラックの操作およびモデル・スキーマを含む) について詳しくは、{{site.data.keyword.twittershort}} REST API 資料を参照してください。</dd>
</dl>

